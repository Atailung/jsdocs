<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Async Programming - JS Fundamentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
              code: {
                bg: '#1e293b',
                text: '#e2e8f0'
              }
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['Fira Code', 'monospace'],
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' }
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' }
              },
              pulse: {
                '0%, 100%': { opacity: '1' },
                '50%': { opacity: '0.7' }
              },
              highlight: {
                '0%': { backgroundColor: 'transparent' },
                '40%': { backgroundColor: 'rgba(14, 165, 233, 0.2)' },
                '100%': { backgroundColor: 'transparent' }
              },
              typewriter: {
                '0%': { width: '0%' },
                '100%': { width: '100%' }
              },
              codeSlide: {
                '0%': { transform: 'translateX(-20px)', opacity: '0' },
                '100%': { transform: 'translateX(0)', opacity: '1' }
              },
              asyncFlow: {
                '0%': { transform: 'translateY(0)', opacity: '0.8' },
                '50%': { transform: 'translateY(-15px)', opacity: '1' },
                '100%': { transform: 'translateY(0)', opacity: '0.8' }
              },
              promiseState: {
                '0%': { transform: 'scale(0.95)', opacity: '0.8' },
                '50%': { transform: 'scale(1.05)', opacity: '1' },
                '100%': { transform: 'scale(0.95)', opacity: '0.8' }
              },
              spinAround: {
                '0%': { transform: 'rotate(0deg)' },
                '100%': { transform: 'rotate(360deg)' }
              },
              progressBar: {
                '0%': { width: '0%' },
                '100%': { width: '100%' }
              }
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out forwards',
              'float': 'float 3s ease-in-out infinite',
              'pulse': 'pulse 2s ease-in-out infinite',
              'highlight': 'highlight 2s ease-in-out',
              'typewriter': 'typewriter 2s steps(40, end)',
              'code-slide': 'codeSlide 0.5s ease-out forwards',
              'async-flow': 'asyncFlow 3s ease-in-out infinite',
              'promise-state': 'promiseState 2s ease-in-out infinite',
              'spin-around': 'spinAround 2s linear infinite',
              'progress-bar': 'progressBar 3s linear forwards'
            }
          }
        }
      }
    </script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
        scroll-behavior: smooth;
      }
      
      pre, code {
        font-family: 'Fira Code', monospace;
      }
      
      pre {
        background-color: theme('colors.code.bg');
        color: theme('colors.code.text');
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        position: relative;
      }
      
      .code-block {
        position: relative;
        margin: 1.5rem 0;
      }
      
      .code-block .copy-button {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background-color: rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        border: none;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
      }
      
      .code-block:hover .copy-button {
        opacity: 1;
      }
      
      .code-block .copy-button:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }
      
      .code-block .copy-button.copied {
        background-color: rgba(16, 185, 129, 0.2);
      }
      
      .code-block .language-tag {
        position: absolute;
        top: 0.5rem;
        left: 0.5rem;
        background-color: rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
      }
      
      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        height: 3px;
        background: theme('colors.primary.500');
        z-index: 50;
        width: 0%;
        transition: width 0.2s ease;
      }
      
      .toc-link {
        display: block;
        padding: 0.5rem 1rem;
        color: #64748b;
        border-left: 2px solid #e2e8f0;
        transition: all 0.2s ease;
      }
      
      .toc-link:hover {
        color: #0ea5e9;
        border-left-color: #0ea5e9;
        background-color: rgba(14, 165, 233, 0.05);
      }
      
      .toc-link.active {
        color: #0ea5e9;
        border-left-color: #0ea5e9;
        font-weight: 500;
      }
      
      .section-highlight {
        animation: highlight 2s ease-in-out;
      }
      
      .typewriter {
        overflow: hidden;
        white-space: nowrap;
        border-right: 2px solid #0ea5e9;
        animation: typewriter 2s steps(40, end), pulse 1s infinite;
      }
      
      .async-card {
        transition: all 0.3s ease;
        border-left: 4px solid transparent;
      }
      
      .async-card:hover {
        transform: translateY(-5px);
        border-left: 4px solid theme('colors.primary.500');
      }
      
      .keyword {
        color: #f472b6;
        font-weight: 500;
      }
      
      .string {
        color: #a3e635;
      }
      
      .number {
        color: #fb923c;
      }
      
      .comment {
        color: #94a3b8;
        font-style: italic;
      }
      
      .function {
        color: #38bdf8;
      }
      
      .variable {
        color: #e2e8f0;
      }
      
      .operator {
        color: #e879f9;
      }
      
      .parameter {
        color: #d8b4fe;
      }
      
      .async-keyword {
        color: #60a5fa;
        font-weight: 500;
      }
      
      .await-keyword {
        color: #818cf8;
        font-weight: 500;
      }
      
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #94a3b8;
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }
      
      /* Interactive example styles */
      .interactive-demo {
        border: 2px solid #e2e8f0;
        border-radius: 0.5rem;
        overflow: hidden;
      }
      
      .interactive-demo-header {
        background-color: #f8fafc;
        padding: 0.75rem 1rem;
        border-bottom: 2px solid #e2e8f0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .interactive-demo-content {
        padding: 1rem;
      }
      
      .interactive-demo-output {
        background-color: #f1f5f9;
        border-radius: 0.25rem;
        padding: 1rem;
        margin-top: 1rem;
        min-height: 3rem;
      }
      
      .tab-button {
        padding: 0.5rem 1rem;
        border-radius: 0.25rem;
        font-weight: 500;
        transition: all 0.2s ease;
      }
      
      .tab-button.active {
        background-color: #0ea5e9;
        color: white;
      }
      
      .tab-content {
        display: none;
      }
      
      .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-out forwards;
      }
      
      .code-comparison {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      @media (min-width: 768px) {
        .code-comparison {
          grid-template-columns: 1fr 1fr;
        }
      }
      
      .code-comparison-item {
        opacity: 0;
        animation: fadeIn 0.5s ease-out forwards;
      }
      
      .code-comparison-item:nth-child(2) {
        animation-delay: 0.2s;
      }
      
      .async-visual {
        position: relative;
        padding: 2rem;
        border-radius: 0.5rem;
        background-color: #f8fafc;
        overflow: hidden;
        margin: 2rem 0;
      }
      
      .async-flow-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }
      
      .async-step {
        padding: 1rem;
        border-radius: 0.5rem;
        background-color: #e0f2fe;
        border: 2px solid #38bdf8;
        width: 80%;
        max-width: 400px;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .async-step:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      
      .async-arrow {
        color: #38bdf8;
        font-size: 1.5rem;
      }
      
      .promise-container {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 2rem 0;
      }
      
      .promise-state {
        padding: 1.5rem;
        border-radius: 0.5rem;
        width: 30%;
        min-width: 200px;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .promise-pending {
        background-color: #fef3c7;
        border: 2px solid #f59e0b;
      }
      
      .promise-fulfilled {
        background-color: #d1fae5;
        border: 2px solid #10b981;
      }
      
      .promise-rejected {
        background-color: #fee2e2;
        border: 2px solid #ef4444;
      }
      
      .event-loop-container {
        position: relative;
        width: 300px;
        height: 300px;
        margin: 0 auto;
      }
      
      .event-loop-circle {
        position: absolute;
        width: 100%;
        height: 100%;
        border: 4px solid #38bdf8;
        border-radius: 50%;
        animation: spin-around 10s linear infinite;
      }
      
      .event-loop-item {
        position: absolute;
        width: 60px;
        height: 60px;
        background-color: #e0f2fe;
        border: 2px solid #38bdf8;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: #0284c7;
      }
      
      .event-loop-item:nth-child(1) {
        top: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      
      .event-loop-item:nth-child(2) {
        top: 50%;
        right: 0;
        transform: translateY(-50%);
      }
      
      .event-loop-item:nth-child(3) {
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      
      .event-loop-item:nth-child(4) {
        top: 50%;
        left: 0;
        transform: translateY(-50%);
      }
      
      .progress-container {
        width: 100%;
        height: 20px;
        background-color: #e2e8f0;
        border-radius: 10px;
        overflow: hidden;
        margin: 1rem 0;
      }
      
      .progress-bar-demo {
        height: 100%;
        width: 0;
        background-color: #38bdf8;
        border-radius: 10px;
      }
      
      .loading-spinner {
        display: inline-block;
        width: 24px;
        height: 24px;
        border: 3px solid rgba(56, 189, 248, 0.3);
        border-radius: 50%;
        border-top-color: #38bdf8;
        animation: spin-around 1s linear infinite;
      }
      
      .async-demo-button {
        background-color: #0ea5e9;
        color: white;
        border: none;
        border-radius: 0.5rem;
        padding: 0.5rem 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .async-demo-button:hover {
        background-color: #0284c7;
      }
      
      .async-demo-button:disabled {
        background-color: #94a3b8;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Header -->
    <header class="bg-gradient-to-r from-primary-700 to-primary-900 text-white py-12 relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-r from-primary-700/30 to-primary-900/30"></div>
      <div class="container mx-auto px-4 relative z-10">
        <div class="flex justify-between items-center mb-8">
          <div class="flex items-center space-x-2">
            <div class="bg-white text-primary-600 h-10 w-10 rounded-lg flex items-center justify-center shadow-lg animate-float">
              <span class="text-xl font-bold">JS</span>
            </div>
            <a href="/" class="text-xl font-semibold tracking-tight hover:text-primary-200 transition-colors">JSFundamentals</a>
          </div>
          <div class="flex items-center space-x-6">
            <a href="/" class="text-white/80 hover:text-white transition-colors duration-200">Home</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Docs</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Examples</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Community</a>
            <div class="dark-mode-toggle ml-4 text-white/80 hover:text-white cursor-pointer">
              <i class="fas fa-moon text-lg"></i>
            </div>
          </div>
        </div>
        
        <div class="max-w-3xl">
          <h1 class="text-4xl md:text-5xl font-bold leading-tight mb-4">Asynchronous JavaScript</h1>
          <p class="text-xl text-white/90 mb-8 leading-relaxed">Master the art of handling asynchronous operations - learn how to write non-blocking code that keeps your applications responsive and efficient.</p>
          <div class="flex flex-wrap gap-4">
            <a href="#basics" class="bg-white text-primary-700 hover:bg-gray-100 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg flex items-center">
              <span>Start Learning</span>
              <i class="fas fa-arrow-right ml-2"></i>
            </a>
            <a href="#interactive-demo" class="bg-transparent border border-white/30 backdrop-blur-sm text-white hover:bg-white/10 px-6 py-3 rounded-lg font-medium transition-all duration-200">
              <i class="fas fa-code mr-2"></i>
              <span>Try It Yourself</span>
            </a>
          </div>
        </div>
      </div>
      
      <!-- Decorative Elements -->
      <div class="absolute right-0 top-0 h-full w-1/3 opacity-10">
        <div class="absolute right-20 top-20 text-6xl animate-float" style="animation-delay: 0.5s;">async</div>
        <div class="absolute right-60 top-40 text-4xl animate-float" style="animation-delay: 1s;">await</div>
        <div class="absolute right-40 top-60 text-5xl animate-float" style="animation-delay: 1.5s;">then()</div>
        <div class="absolute right-80 top-80 text-7xl animate-float" style="animation-delay: 2s;">Promise</div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8 md:py-16">
      <div class="flex flex-col lg:flex-row gap-8">
        <!-- Sidebar / TOC -->
        <div class="lg:w-1/4">
          <div class="bg-white rounded-lg shadow-md p-6 sticky top-4">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Table of Contents</h2>
            <nav class="toc">
              <a href="#basics" class="toc-link">Async Basics</a>
              <a href="#callbacks" class="toc-link">Callbacks</a>
              <a href="#promises" class="toc-link">Promises</a>
              <a href="#async-await" class="toc-link">Async/Await</a>
              <a href="#event-loop" class="toc-link">Event Loop</a>
              <a href="#error-handling" class="toc-link">Error Handling</a>
              <a href="#parallel-execution" class="toc-link">Parallel Execution</a>
              <a href="#sequential-execution" class="toc-link">Sequential Execution</a>
              <a href="#best-practices" class="toc-link">Best Practices</a>
              <a href="#interactive-demo" class="toc-link">Interactive Demo</a>
              <a href="#common-patterns" class="toc-link">Common Patterns</a>
            </nav>
            
            <div class="mt-8 p-4 bg-primary-50 rounded-lg border border-primary-100">
              <h3 class="text-sm font-semibold text-primary-800 mb-2">Learning Progress</h3>
              <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div class="bg-primary-500 h-2.5 rounded-full" style="width: 0%" id="readingProgress"></div>
              </div>
              <p class="text-xs text-gray-500 mt-2">Scroll to track your progress</p>
            </div>
          </div>
        </div>
        
        <!-- Main Content -->
        <main class="lg:w-3/4">
          <!-- Async Basics -->
          <section id="basics" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Asynchronous JavaScript Basics</h2>
            
            <p class="text-gray-700 mb-4">
              Asynchronous programming is a technique that enables your program to start a potentially long-running task and still be able to be responsive to other events while that task runs, rather than having to wait until that task has finished.
            </p>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Why Asynchronous Programming Matters</h3>
              <p class="text-gray-700">
                Asynchronous code allows us to:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Keep the application responsive while performing time-consuming operations</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Handle multiple operations simultaneously</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Work with APIs, databases, and file systems efficiently</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Create better user experiences by avoiding blocking the main thread</span>
                </li>
              </ul>
            </div>
            
            <div class="async-visual my-8">
              <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                <div class="bg-red-100 border-2 border-red-400 rounded-lg p-4 text-center w-full md:w-64">
                  <h4 class="font-semibold text-red-800 mb-2">Synchronous</h4>
                  <div class="bg-white p-3 rounded shadow-sm">
                    <p class="text-sm text-gray-700">Tasks execute one after another, blocking the main thread</p>
                  </div>
                  <div class="flex flex-col gap-2 mt-4">
                    <div class="bg-red-200 p-2 rounded">Task 1</div>
                    <i class="fas fa-arrow-down text-red-500"></i>
                    <div class="bg-red-200 p-2 rounded">Task 2</div>
                    <i class="fas fa-arrow-down text-red-500"></i>
                    <div class="bg-red-200 p-2 rounded">Task 3</div>
                  </div>
                </div>
                
                <div class="bg-green-100 border-2 border-green-400 rounded-lg p-4 text-center w-full md:w-64">
                  <h4 class="font-semibold text-green-800 mb-2">Asynchronous</h4>
                  <div class="bg-white p-3 rounded shadow-sm">
                    <p class="text-sm text-gray-700">Tasks can run in parallel, not blocking the main thread</p>
                  </div>
                  <div class="flex flex-col gap-2 mt-4">
                    <div class="bg-green-200 p-2 rounded">Task 1</div>
                    <div class="flex justify-center">
                      <i class="fas fa-arrow-down text-green-500 mx-2"></i>
                      <i class="fas fa-arrow-down text-green-500 mx-2 animate-async-flow"></i>
                      <i class="fas fa-arrow-down text-green-500 mx-2" style="animation-delay: 0.5s;"></i>
                    </div>
                    <div class="flex gap-2">
                      <div class="bg-green-200 p-2 rounded flex-1">Task 2</div>
                      <div class="bg-green-200 p-2 rounded flex-1 animate-async-flow">Task 3</div>
                      <div class="bg-green-200 p-2 rounded flex-1" style="animation-delay: 0.5s;">Task 4</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <p class="text-gray-700 mb-4">
              JavaScript is single-threaded, meaning it can only execute one piece of code at a time. Asynchronous programming allows JavaScript to handle time-consuming operations without blocking the main thread.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Synchronous code example</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>);

<span class="keyword">function</span> <span class="function">doSomething</span>() {
  <span class="comment">// This is a synchronous function</span>
  <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator"><</span> <span class="number">3000000000</span>; <span class="variable">i</span><span class="operator">++</span>) {
    <span class="comment">// This loop will block the main thread</span>
  }
  <span class="keyword">return</span> <span class="string">'Task completed'</span>;
}

<span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="function">doSomething</span>();
<span class="variable">console</span>.<span class="function">log</span>(<span class="variable">result</span>);

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>);

<span class="comment">// Output (after a noticeable delay):
// Start
// Task completed
// End</span>

<span class="comment">// Asynchronous code example</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>);

<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="comment">// This is an asynchronous function</span>
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Task completed'</span>);
}, <span class="number">2000</span>);

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>);

<span class="comment">// Output:
// Start
// End
// Task completed (after 2 seconds)</span></code></pre>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <span class="text-sm text-gray-500">
                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                Asynchronous code is essential for modern web applications
              </span>
              <a href="#callbacks" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Callbacks
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Callbacks -->
          <section id="callbacks" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Callbacks</h2>
            
            <p class="text-gray-700 mb-4">
              Callbacks are functions passed as arguments to other functions, which are then invoked inside the outer function to complete some kind of routine or action. They are the most basic way to handle asynchronous operations in JavaScript.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Basic callback example</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John Doe'</span> };
    <span class="parameter">callback</span>(<span class="variable">data</span>);
  }, <span class="number">2000</span>);
}

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Starting data fetch...'</span>);

<span class="function">fetchData</span>((<span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
});

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Continuing with other tasks...'</span>);

<span class="comment">// Output:
// Starting data fetch...
// Continuing with other tasks...
// Data received: { id: 1, name: 'John Doe' } (after 2 seconds)</span></code></pre>
            </div>
            
            <div class="my-6 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Callback Hell</h3>
              <p class="text-gray-700 mb-4">
                When multiple asynchronous operations need to be chained together, callbacks can lead to deeply nested code that's hard to read and maintain. This is often called "callback hell" or the "pyramid of doom."
              </p>
              <div class="code-block mt-4">
                <pre><code><span class="comment">// Callback hell example</span>
<span class="function">fetchUserData</span>(<span class="parameter">userId</span>, (<span class="parameter">user</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got user:'</span>, <span class="parameter">user</span>);
  
  <span class="function">fetchUserPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>, (<span class="parameter">posts</span>) <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got posts:'</span>, <span class="parameter">posts</span>);
    
    <span class="function">fetchPostComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>, (<span class="parameter">comments</span>) <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got comments:'</span>, <span class="parameter">comments</span>);
      
      <span class="function">fetchCommentAuthor</span>(<span class="parameter">comments</span>[<span class="number">0</span>].<span class="property">authorId</span>, (<span class="parameter">author</span>) <span class="operator">=></span> {
        <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got author:'</span>, <span class="parameter">author</span>);
        
        <span class="comment">// And it could go even deeper...</span>
      });
    });
  });
});</code></pre>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Error Handling with Callbacks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Callbacks</h3>
                <p class="text-gray-600 mb-4">
                  A common pattern for handling errors with callbacks is to use the first parameter for errors.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> };
      <span class="parameter">callback</span>(<span class="keyword">null</span>, <span class="variable">data</span>);
    } <span class="keyword">else</span> {
      <span class="parameter">callback</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
    }
  }, <span class="number">1000</span>);
}

<span class="function">fetchData</span>((<span class="parameter">error</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">return</span>;
  }
  
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
              
              <!-- Real-world Callback Example -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Real-world Callback Example</h3>
                <p class="text-gray-600 mb-4">
                  Many Web APIs and Node.js functions use callbacks.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// Browser: Event listeners</span>
<span class="variable">document</span>.<span class="function">getElementById</span>(<span class="string">'button'</span>)
  .<span class="function">addEventListener</span>(<span class="string">'click'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Button clicked!'</span>);
  });

<span class="comment">// Browser: setTimeout</span>
<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Timeout completed'</span>);
}, <span class="number">2000</span>);

<span class="comment">// Node.js: File system</span>
<span class="variable">fs</span>.<span class="function">readFile</span>(<span class="string">'file.txt'</span>, <span class="string">'utf8'</span>, (<span class="parameter">err</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">err</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error reading file:'</span>, <span class="parameter">err</span>);
    <span class="keyword">return</span>;
  }
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'File contents:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#basics" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Async Basics
              </a>
              <a href="#promises" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Promises
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Promises -->
          <section id="promises" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Promises</h2>
            
            <p class="text-gray-700 mb-4">
              Promises provide a cleaner, more elegant way to work with asynchronous code. A Promise represents a value that may not be available yet but will be resolved at some point in the future.
            </p>
            
            <div class="promise-container">
              <div class="promise-state promise-pending animate-promise-state">
                <h3 class="font-semibold text-yellow-800 mb-2">Pending</h3>
                <p class="text-sm">Initial state, neither fulfilled nor rejected</p>
              </div>
              <div class="promise-state promise-fulfilled animate-promise-state" style="animation-delay: 0.5s;">
                <h3 class="font-semibold text-green-800 mb-2">Fulfilled</h3>
                <p class="text-sm">Operation completed successfully</p>
              </div>
              <div class="promise-state promise-rejected animate-promise-state" style="animation-delay: 1s;">
                <h3 class="font-semibold text-red-800 mb-2">Rejected</h3>
                <p class="text-sm">Operation failed</p>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Creating a Promise</span>
<span class="keyword">const</span> <span class="variable">fetchData</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
  <span class="comment">// Simulating an API call</span>
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.3</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John Doe'</span> };
      <span class="function">resolve</span>(<span class="variable">data</span>); <span class="comment">// Fulfilled with data</span>
    } <span class="keyword">else</span> {
      <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>)); <span class="comment">// Rejected with error</span>
    }
  }, <span class="number">2000</span>);
});

<span class="comment">// Using a Promise</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Starting data fetch...'</span>);

<span class="variable">fetchData</span>
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetch operation completed'</span>);
  });

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Continuing with other tasks...'</span>);</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Promise Chaining</h3>
              <p class="text-gray-700 mb-4">
                Promises can be chained together, making it easier to handle sequences of asynchronous operations.
              </p>
              <div class="code-block mt-4">
                <pre><code><span class="comment">// Promise chaining</span>
<span class="function">fetchUser</span>(<span class="number">1</span>)
  .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
    <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>); <span class="comment">// Return a new promise</span>
  })
  .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
    <span class="keyword">return</span> <span class="function">fetchComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>); <span class="comment">// Return another promise</span>
  })
  .<span class="function">then</span>(<span class="parameter">comments</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments:'</span>, <span class="parameter">comments</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This will catch any error in the chain</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  });</code></pre>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Promise.all() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.all()</h3>
                <p class="text-gray-600 mb-4">
                  Executes multiple promises in parallel and waits for all of them to complete.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="function">fetchPosts</span>(<span class="number">1</span>);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="function">fetchComments</span>(<span class="number">1</span>);

<span class="variable">Promise</span>.<span class="function">all</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(([<span class="parameter">user</span>, <span class="parameter">posts</span>, <span class="parameter">comments</span>]) <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments:'</span>, <span class="parameter">comments</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// If any promise rejects, this will execute</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.race() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.race()</h3>
                <p class="text-gray-600 mb-4">
                  Returns the first promise that resolves or rejects.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Promise 1'</span>), <span class="number">2000</span>)
);

<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Promise 2'</span>), <span class="number">1000</span>)
);

<span class="variable">Promise</span>.<span class="function">race</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>])
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fastest promise:'</span>, <span class="parameter">result</span>);
    <span class="comment">// Output: "Fastest promise: Promise 2"</span>
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.allSettled() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.allSettled()</h3>
                <p class="text-gray-600 mb-4">
                  Waits for all promises to settle (fulfill or reject).
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">resolve</span>(<span class="string">'Success'</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">reject</span>(<span class="string">'Error'</span>);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">resolve</span>(<span class="number">42</span>);

<span class="variable">Promise</span>.<span class="function">allSettled</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(<span class="parameter">results</span> <span class="operator">=></span> {
    <span class="parameter">results</span>.<span class="function">forEach</span>((<span class="parameter">result</span>, <span class="parameter">index</span>) <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'fulfilled'</span>) {
        <span class="variable">console</span>.<span class="function">log</span>(
          <span class="string">`Promise ${</span><span class="parameter">index</span> <span class="operator">+</span> <span class="number">1</span><span class="string">} fulfilled with value: ${</span><span class="parameter">result</span>.<span class="property">value</span><span class="string">}`</span>
        );
      } <span class="keyword">else</span> {
        <span class="variable">console</span>.<span class="function">log</span>(
          <span class="string">`Promise ${</span><span class="parameter">index</span> <span class="operator">+</span> <span class="number">1</span><span class="string">} rejected with reason: ${</span><span class="parameter">result</span>.<span class="property">reason</span><span class="string">}`</span>
        );
      }
    });
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.any() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.any()</h3>
                <p class="text-gray-600 mb-4">
                  Returns the first promise that fulfills (ignores rejections).
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">reject</span>(<span class="string">'Error 1'</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Success 2'</span>), <span class="number">2000</span>)
);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Success 3'</span>), <span class="number">1000</span>)
);

<span class="variable">Promise</span>.<span class="function">any</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'First fulfilled promise:'</span>, <span class="parameter">result</span>);
    <span class="comment">// Output: "First fulfilled promise: Success 3"</span>
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This runs if all promises reject</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'All promises rejected'</span>);
  });</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#callbacks" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Callbacks
              </a>
              <a href="#async-await" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Async/Await
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Async/Await -->
          <section id="async-await" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Async/Await</h2>
            
            <p class="text-gray-700 mb-4">
              Async/await is a modern syntax introduced in ES2017 that makes asynchronous code look and behave more like synchronous code, while still being non-blocking. It's built on top of promises and makes asynchronous code more readable and easier to debug.
            </p>
            
            <div class="async-visual my-8">
              <div class="async-flow-container">
                <div class="async-step">
                  <span class="font-semibold">1. Mark function with <span class="text-blue-600">async</span> keyword</span>
                </div>
                <div class="async-arrow">
                  <i class="fas fa-arrow-down"></i>
                </div>
                <div class="async-step">
                  <span class="font-semibold">2. Use <span class="text-indigo-600">await</span> to pause execution</span>
                </div>
                <div class="async-arrow">
                  <i class="fas fa-arrow-down"></i>
                </div>
                <div class="async-step">
                  <span class="font-semibold">3. Code appears synchronous but runs asynchronously</span>
                </div>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Basic async/await example</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching user data...'</span>);
  
  <span class="keyword">try</span> {
    <span class="comment">// The await keyword pauses execution until the promise resolves</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User data:'</span>, <span class="variable">user</span>);
    
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User posts:'</span>, <span class="variable">posts</span>);
    
    <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchComments</span>(<span class="variable">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Post comments:'</span>, <span class="variable">comments</span>);
    
    <span class="keyword">return</span> {
      <span class="property">user</span>,
      <span class="property">posts</span>,
      <span class="property">comments</span>
    };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>; <span class="comment">// Re-throw the error</span>
  }
}

<span class="comment">// Using the async function</span>
<span class="function">fetchUserData</span>()
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'All data:'</span>, <span class="parameter">data</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Failed to fetch data:'</span>, <span class="parameter">error</span>);
  });</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Key Points About Async/Await</h3>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Functions marked with <code>async</code> always return a Promise</p>
                    <p class="text-sm text-gray-600">Even if you return a non-promise value, it will be wrapped in a Promise</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">The <code>await</code> keyword can only be used inside <code>async</code> functions</p>
                    <p class="text-sm text-gray-600">(Except at the top level in modern JavaScript modules)</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Error handling uses standard try/catch blocks</p>
                    <p class="text-sm text-gray-600">Makes debugging easier compared to promise chains</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Async/await is non-blocking</p>
                    <p class="text-sm text-gray-600">It's just syntactic sugar over promises, not synchronous code</p>
                  </div>
                </li>
              </ul>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Comparison with Promises -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Comparison with Promises</h3>
                <p class="text-gray-600 mb-4">
                  Async/await provides a cleaner syntax compared to promise chains.
                </p>
                <div class="code-comparison">
                  <div class="code-comparison-item">
                    <h4 class="font-medium text-gray-900 mb-2">Promise Chain</h4>
                    <pre class="text-sm bg-gray-100 p-3 rounded"><code><span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="keyword">return</span> <span class="function">fetchUser</span>(<span class="number">1</span>)
    .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
      <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>)
        .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
          <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
          <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
        });
    })
    .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">error</span>(<span class="parameter">error</span>);
      <span class="keyword">throw</span> <span class="parameter">error</span>;
    });
}</code></pre>
                  </div>
                  
                  <div class="code-comparison-item">
                    <h4 class="font-medium text-gray-900 mb-2">Async/Await</h4>
                    <pre class="text-sm bg-gray-100 p-3 rounded"><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="variable">user</span>);
    
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="variable">posts</span>);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
                  </div>
                </div>
              </div>
              
              <!-- Parallel Operations -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Parallel Operations</h3>
                <p class="text-gray-600 mb-4">
                  You can still run operations in parallel with async/await.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllData</span>() {
  <span class="keyword">try</span> {
    <span class="comment">// Start all fetches in parallel</span>
    <span class="keyword">const</span> <span class="variable">userPromise</span> <span class="operator">=</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="keyword">const</span> <span class="variable">postsPromise</span> <span class="operator">=</span> <span class="function">fetchPosts</span>(<span class="number">1</span>);
    <span class="keyword">const</span> <span class="variable">commentsPromise</span> <span class="operator">=</span> <span class="function">fetchComments</span>(<span class="number">1</span>);
    
    <span class="comment">// Wait for all promises to resolve</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">userPromise</span>;
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">postsPromise</span>;
    <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">commentsPromise</span>;
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}

<span class="comment">// Or using Promise.all with async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllDataParallel</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">posts</span>, <span class="variable">comments</span>] <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>([
      <span class="function">fetchUser</span>(<span class="number">1</span>),
      <span class="function">fetchPosts</span>(<span class="number">1</span>),
      <span class="function">fetchComments</span>(<span class="number">1</span>)
    ]);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#promises" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Promises
              </a>
              <a href="#event-loop" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Event Loop
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Event Loop -->
          <section id="event-loop" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">The JavaScript Event Loop</h2>
            
            <p class="text-gray-700 mb-4">
              To understand asynchronous JavaScript, it's essential to understand the event loop - the mechanism that allows JavaScript to perform non-blocking operations despite being single-threaded.
            </p>
            
            <div class="my-8 flex justify-center">
              <div class="event-loop-container">
                <div class="event-loop-circle"></div>
                <div class="event-loop-item">Call Stack</div>
                <div class="event-loop-item">Web APIs</div>
                <div class="event-loop-item">Callback Queue</div>
                <div class="event-loop-item">Event Loop</div>
              </div>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">How the Event Loop Works</h3>
              <ol class="mt-2 space-y-4 list-decimal pl-5">
                <li>
                  <p class="font-medium">Call Stack</p>
                  <p class="text-sm text-gray-600">JavaScript maintains a call stack where it keeps track of function calls. When a function is called, it's added to the stack; when it returns, it's removed.</p>
                </li>
                <li>
                  <p class="font-medium">Web APIs (in browsers) or C++ APIs (in Node.js)</p>
                  <p class="text-sm text-gray-600">When an asynchronous operation is encountered (like setTimeout, fetch, or file I/O), it's handed off to these APIs to handle outside the JavaScript engine.</p>
                </li>
                <li>
                  <p class="font-medium">Callback Queue</p>
                  <p class="text-sm text-gray-600">When the asynchronous operation completes, its callback function is placed in the callback queue.</p>
                </li>
                <li>
                  <p class="font-medium">Event Loop</p>
                  <p class="text-sm text-gray-600">The event loop constantly checks if the call stack is empty. If it is, it takes the first callback from the queue and pushes it onto the call stack for execution.</p>
                </li>
              </ol>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>); <span class="comment">// 1. Added to call stack and executed immediately</span>

<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Timeout callback'</span>); <span class="comment">// 4. Executed after call stack is empty</span>
}, <span class="number">0</span>); <span class="comment">// 2. Handed off to Web API, then callback added to queue</span>

<span class="variable">Promise</span>.<span class="function">resolve</span>()
  .<span class="function">then</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Promise callback'</span>); <span class="comment">// 3. Microtasks have higher priority</span>
  });

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>); <span class="comment">// 2. Added to call stack and executed immediately</span>

<span class="comment">// Output:
// Start
// End
// Promise callback
// Timeout callback</span></code></pre>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Microtasks vs Macrotasks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Microtasks vs Macrotasks</h3>
                <p class="text-gray-600 mb-4">
                  The event loop processes different types of tasks with different priorities.
                </p>
                <ul class="space-y-2">
                  <li class="flex items-start">
                    <i class="fas fa-circle text-blue-500 text-xs mt-1.5 mr-2"></i>
                    <div>
                      <p class="font-medium">Microtasks</p>
                      <p class="text-sm text-gray-600">Higher priority, processed after the current task and before the next macrotask</p>
                      <p class="text-sm text-gray-600">Examples: Promise callbacks, MutationObserver, queueMicrotask()</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-circle text-green-500 text-xs mt-1.5 mr-2"></i>
                    <div>
                      <p class="font-medium">Macrotasks</p>
                      <p class="text-sm text-gray-600">Lower priority, processed one per event loop iteration</p>
                      <p class="text-sm text-gray-600">Examples: setTimeout, setInterval, I/O operations, UI rendering</p>
                    </div>
                  </li>
                </ul>
              </div>
              
              <!-- Event Loop Visualization -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Event Loop Process</h3>
                <ol class="space-y-2 list-decimal pl-5">
                  <li class="text-gray-600">Execute all tasks in the call stack</li>
                  <li class="text-gray-600">Execute all microtasks</li>
                  <li class="text-gray-600">If there are more microtasks created during step 2, execute them</li>
                  <li class="text-gray-600">Render UI updates (in browsers)</li>
                  <li class="text-gray-600">Pick the oldest macrotask from the queue</li>
                  <li class="text-gray-600">Go back to step 1</li>
                </ol>
                <div class="mt-4">
                  <p class="text-sm text-gray-600">This process ensures that promises are handled promptly, while still allowing other tasks to execute in a non-blocking way.</p>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#async-await" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Async/Await
              </a>
              <a href="#error-handling" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Error Handling
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Error Handling -->
          <section id="error-handling" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Error Handling in Asynchronous Code</h2>
            
            <p class="text-gray-700 mb-4">
              Proper error handling is crucial in asynchronous JavaScript to prevent unhandled rejections and ensure your application can recover gracefully from failures.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Error Handling with Callbacks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Callbacks</h3>
                <p class="text-gray-600 mb-4">
                  The error-first callback pattern is common in Node.js.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="comment">// Simulate an API call</span>
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="parameter">callback</span>(<span class="keyword">null</span>, { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> });
    } <span class="keyword">else</span> {
      <span class="parameter">callback</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
    }
  }, <span class="number">1000</span>);
}

<span class="function">fetchData</span>((<span class="parameter">error</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">return</span>;
  }
  
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
              
              <!-- Error Handling with Promises -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Promises</h3>
                <p class="text-gray-600 mb-4">
                  Use catch() to handle errors in promise chains.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>() {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
      
      <span class="keyword">if</span> (<span class="variable">success</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
      }
    }, <span class="number">1000</span>);
  });
}

<span class="function">fetchData</span>()
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
    <span class="keyword">return</span> <span class="function">processData</span>(<span class="parameter">data</span>);
  })
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="parameter">result</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This catches errors from fetchData and processData</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Operation completed'</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Error Handling with Async/Await -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Async/Await</h3>
                <p class="text-gray-600 mb-4">
                  Use try/catch blocks with async/await.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAndProcessData</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>();
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="variable">data</span>);
    
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processData</span>(<span class="variable">data</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="variable">result</span>);
    
    <span class="keyword">return</span> <span class="variable">result</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="comment">// This catches errors from both fetchData and processData</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    
    <span class="comment">// You can handle specific errors</span>
    <span class="keyword">if</span> (<span class="parameter">error</span>.<span class="property">name</span> <span class="operator">===</span> <span class="string">'NetworkError'</span>) {
      <span class="comment">// Handle network errors</span>
      <span class="keyword">return</span> <span class="function">getFromCache</span>();
    }
    
    <span class="comment">//  <span class="function">getFromCache</span>();
    }
    
    <span class="comment">// Re-throw the error for the caller to handle</span>
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  } <span class="keyword">finally</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Operation completed'</span>);
  }
}

<span class="comment">// Using the async function</span>
<span class="function">fetchAndProcessData</span>()
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Final result:'</span>, <span class="parameter">result</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled error:'</span>, <span class="parameter">error</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Global Error Handling -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Global Error Handling</h3>
                <p class="text-gray-600 mb-4">
                  Set up global handlers for unhandled errors.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// For unhandled promise rejections</span>
<span class="variable">window</span>.<span class="function">addEventListener</span>(<span class="string">'unhandledrejection'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled promise rejection:'</span>, <span class="parameter">event</span>.<span class="property">reason</span>);
  
  <span class="comment">// Prevent the default handling</span>
  <span class="parameter">event</span>.<span class="function">preventDefault</span>();
});

<span class="comment">// For synchronous errors</span>
<span class="variable">window</span>.<span class="function">addEventListener</span>(<span class="string">'error'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Global error:'</span>, <span class="parameter">event</span>.<span class="property">error</span>);
});

<span class="comment">// In Node.js</span>
<span class="variable">process</span>.<span class="function">on</span>(<span class="string">'unhandledRejection'</span>, (<span class="parameter">reason</span>, <span class="parameter">promise</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled Rejection:'</span>, <span class="parameter">reason</span>);
  <span class="comment">// Application specific logging, sending errors to a service</span>
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="my-6 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Best Practices for Error Handling</h3>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Always handle errors in asynchronous code</p>
                    <p class="text-sm text-gray-600">Unhandled promise rejections can lead to silent failures</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Use specific error types</p>
                    <p class="text-sm text-gray-600">Create custom error classes to distinguish between different types of errors</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Provide meaningful error messages</p>
                    <p class="text-sm text-gray-600">Include details that help diagnose the problem</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Set up global error handlers</p>
                    <p class="text-sm text-gray-600">Catch errors that slip through local error handling</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Log errors for debugging</p>
                    <p class="text-sm text-gray-600">But be careful not to expose sensitive information to users</p>
                  </div>
                </li>
              </ul>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#event-loop" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Event Loop
              </a>
              <a href="#parallel-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Parallel Execution
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Parallel Execution -->
          <section id="parallel-execution" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Parallel Execution</h2>
            
            <p class="text-gray-700 mb-4">
              Running multiple asynchronous operations simultaneously can significantly improve performance. JavaScript provides several ways to execute operations in parallel.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Using Promise.all for parallel execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleUsers</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Parallel fetch'</span>);
    
    <span class="comment">// Create an array of promises</span>
    <span class="keyword">const</span> <span class="variable">userPromises</span> <span class="operator">=</span> <span class="parameter">userIds</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> <span class="function">fetchUser</span>(<span class="parameter">id</span>));
    
    <span class="comment">// Wait for all promises to resolve</span>
    <span class="keyword">const</span> <span class="variable">users</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">userPromises</span>);
    
    <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Parallel fetch'</span>);
    <span class="keyword">return</span> <span class="variable">users</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching users:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}

<span class="comment">// Compare with sequential execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleUsersSequentially</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Sequential fetch'</span>);
    
    <span class="keyword">const</span> <span class="variable">users</span> <span class="operator">=</span> [];
    <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">id</span> <span class="keyword">of</span> <span class="parameter">userIds</span>) {
      <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="variable">id</span>);
      <span class="variable">users</span>.<span class="function">push</span>(<span class="variable">user</span>);
    }
    
    <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Sequential fetch'</span>);
    <span class="keyword">return</span> <span class="variable">users</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching users:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">When to Use Parallel Execution</h3>
              <p class="text-gray-700 mb-4">
                Parallel execution is ideal when:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Operations are independent of each other</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You want to minimize total execution time</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're fetching data from multiple sources</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're processing multiple items that don't depend on each other</span>
                </li>
              </ul>
              <p class="text-gray-700 mt-4">
                However, be careful not to overwhelm servers with too many simultaneous requests. Consider using techniques like batching or throttling for large numbers of operations.
              </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Promise.allSettled -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.allSettled</h3>
                <p class="text-gray-600 mb-4">
                  When you want to execute all operations regardless of individual failures.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllUserData</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">const</span> <span class="variable">promises</span> <span class="operator">=</span> <span class="parameter">userIds</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> <span class="function">fetchUser</span>(<span class="parameter">id</span>));
  
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">allSettled</span>(<span class="variable">promises</span>);
  
  <span class="keyword">const</span> <span class="variable">successfulUsers</span> <span class="operator">=</span> <span class="variable">results</span>
    .<span class="function">filter</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'fulfilled'</span>)
    .<span class="function">map</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">value</span>);
  
  <span class="keyword">const</span> <span class="variable">failedRequests</span> <span class="operator">=</span> <span class="variable">results</span>
    .<span class="function">filter</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'rejected'</span>)
    .<span class="function">map</span>((<span class="parameter">result</span>, <span class="parameter">index</span>) <span class="operator">=></span> ({
      <span class="property">userId</span>: <span class="parameter">userIds</span>[<span class="parameter">index</span>],
      <span class="property">error</span>: <span class="parameter">result</span>.<span class="property">reason</span>
    }));
  
  <span class="keyword">return</span> {
    <span class="property">users</span>: <span class="variable">successfulUsers</span>,
    <span class="property">failures</span>: <span class="variable">failedRequests</span>
  };
}</code></pre>
                </div>
              </div>
              
              <!-- Limiting Concurrency -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Limiting Concurrency</h3>
                <p class="text-gray-600 mb-4">
                  Control the number of concurrent operations.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchWithConcurrencyLimit</span>(<span class="parameter">urls</span>, <span class="parameter">limit</span> <span class="operator">=</span> <span class="number">5</span>) {
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  <span class="keyword">const</span> <span class="variable">inProgress</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Set</span>();
  <span class="keyword">const</span> <span class="variable">queue</span> <span class="operator">=</span> [...<span class="parameter">urls</span>];
  
  <span class="keyword">async</span> <span class="keyword">function</span> <span class="function">processQueue</span>() {
    <span class="keyword">if</span> (<span class="variable">queue</span>.<span class="property">length</span> <span class="operator">===</span> <span class="number">0</span>) <span class="keyword">return</span>;
    
    <span class="keyword">const</span> <span class="variable">url</span> <span class="operator">=</span> <span class="variable">queue</span>.<span class="function">shift</span>();
    <span class="variable">inProgress</span>.<span class="function">add</span>(<span class="variable">url</span>);
    
    <span class="keyword">try</span> {
      <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetch</span>(<span class="variable">url</span>);
      <span class="variable">results</span>.<span class="function">push</span>({
        <span class="property">url</span>,
        <span class="property">data</span>: <span class="await-keyword">await</span> <span class="variable">result</span>.<span class="function">json</span>()
      });
    } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
      <span class="variable">results</span>.<span class="function">push</span>({ <span class="property">url</span>, <span class="property">error</span> });
    } <span class="keyword">finally</span> {
      <span class="variable">inProgress</span>.<span class="function">delete</span>(<span class="variable">url</span>);
      <span class="comment">// Start next task</span>
      <span class="keyword">await</span> <span class="function">processQueue</span>();
    }
  }
  
  <span class="comment">// Start initial batch of tasks</span>
  <span class="keyword">const</span> <span class="variable">initialBatch</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">min</span>(<span class="parameter">limit</span>, <span class="variable">queue</span>.<span class="property">length</span>);
  <span class="keyword">const</span> <span class="variable">initialPromises</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator"><</span> <span class="variable">initialBatch</span>; <span class="variable">i</span><span class="operator">++</span>) {
    <span class="variable">initialPromises</span>.<span class="function">push</span>(<span class="function">processQueue</span>());
  }
  
  <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">initialPromises</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#error-handling" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Error Handling
              </a>
              <a href="#sequential-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Sequential Execution
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Sequential Execution -->
          <section id="sequential-execution" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Sequential Execution</h2>
            
            <p class="text-gray-700 mb-4">
              Sometimes operations need to be executed in a specific order, where each step depends on the result of the previous one. This is where sequential execution comes in.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Sequential execution with async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="comment">// Step 1: Fetch user</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User fetched:'</span>, <span class="variable">user</span>.<span class="property">name</span>);
    
    <span class="comment">// Step 2: Fetch posts (depends on user.id)</span>
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts fetched:'</span>, <span class="variable">posts</span>.<span class="property">length</span>);
    
    <span class="comment">// Step 3: Fetch comments for the first post (depends on posts)</span>
    <span class="keyword">if</span> (<span class="variable">posts</span>.<span class="property">length</span> <span class="operator">></span> <span class="number">0</span>) {
      <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchComments</span>(<span class="variable">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments fetched:'</span>, <span class="variable">comments</span>.<span class="property">length</span>);
      
      <span class="comment">// Step 4: Process all the data</span>
      <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processData</span>(<span class="variable">user</span>, <span class="variable">posts</span>, <span class="variable">comments</span>);
      <span class="keyword">return</span> <span class="variable">result</span>;
    } <span class="keyword">else</span> {
      <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span>: [] };
    }
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error processing user data:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">When to Use Sequential Execution</h3>
              <p class="text-gray-700 mb-4">
                Sequential execution is necessary when:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Each step depends on the result of the previous step</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Operations need to be performed in a specific order</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You need to ensure one operation completes before starting another</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're implementing a step-by-step process or workflow</span>
                </li>
              </ul>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Sequential with Promise Chains -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Sequential with Promise Chains</h3>
                <p class="text-gray-600 mb-4">
                  Using promise chains for sequential execution.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">processUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">let</span> <span class="variable">userData</span> <span class="operator">=</span> {};
  
  <span class="keyword">return</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>)
    .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">user</span> <span class="operator">=</span> <span class="parameter">user</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User fetched:'</span>, <span class="parameter">user</span>.<span class="property">name</span>);
      <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>);
    })
    .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">posts</span> <span class="operator">=</span> <span class="parameter">posts</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts fetched:'</span>, <span class="parameter">posts</span>.<span class="property">length</span>);
      
      <span class="keyword">if</span> (<span class="parameter">posts</span>.<span class="property">length</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="keyword">return</span> <span class="function">fetchComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> [];
      }
    })
    .<span class="function">then</span>(<span class="parameter">comments</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">comments</span> <span class="operator">=</span> <span class="parameter">comments</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments fetched:'</span>, <span class="parameter">comments</span>.<span class="property">length</span>);
      
      <span class="keyword">return</span> <span class="function">processData</span>(
        <span class="variable">userData</span>.<span class="property">user</span>, 
        <span class="variable">userData</span>.<span class="property">posts</span>, 
        <span class="variable">userData</span>.<span class="property">comments</span>
      );
    })
    .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
      <span class="keyword">return</span> <span class="parameter">result</span>;
    })
    .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
      <span class="keyword">throw</span> <span class="parameter">error</span>;
    });</code></pre>
                </div>
              </div>
              
              <!-- Processing Arrays Sequentially -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Processing Arrays Sequentially</h3>
                <p class="text-gray-600 mb-4">
                  Processing an array of items one after another.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// Process array items sequentially</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processItemsSequentially</span>(<span class="parameter">items</span>) {
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">item</span> <span class="keyword">of</span> <span class="parameter">items</span>) {
    <span class="comment">// Process each item and wait for it to complete</span>
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processItem</span>(<span class="variable">item</span>);
    <span class="variable">results</span>.<span class="function">push</span>(<span class="variable">result</span>);
  }
  
  <span class="keyword">return</span> <span class="variable">results</span>;
}

<span class="comment">// Using reduce for sequential promises</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processWithReduce</span>(<span class="parameter">items</span>) {
  <span class="keyword">return</span> <span class="parameter">items</span>.<span class="function">reduce</span>(<span class="async-keyword">async</span> (<span class="parameter">previousPromise</span>, <span class="parameter">item</span>) <span class="operator">=></span> {
    <span class="comment">// Wait for the previous promise to resolve</span>
    <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="parameter">previousPromise</span>;
    
    <span class="comment">// Process the current item</span>
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processItem</span>(<span class="parameter">item</span>);
    
    <span class="comment">// Add the result to the array</span>
    <span class="keyword">return</span> [...<span class="variable">results</span>, <span class="variable">result</span>];
  }, <span class="variable">Promise</span>.<span class="function">resolve</span>([]));
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#parallel-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Parallel Execution
              </a>
              <a href="#best-practices" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Best Practices
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Best Practices -->
          <section id="best-practices" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Best Practices</h2>
            
            <p class="text-gray-700 mb-4">
              Following these best practices will help you write cleaner, more maintainable asynchronous JavaScript code.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                  <span class="bg-green-100 text-green-600 p-2 rounded-lg mr-3">
                    <i class="fas fa-check"></i>
                  </span>
                  Do
                </h3>
                <ul class="space-y-4">
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use async/await for most asynchronous code</p>
                      <p class="text-sm text-gray-600">It's more readable and easier to debug</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Always handle errors in asynchronous code</p>
                      <p class="text-sm text-gray-600">Use try/catch with async/await or .catch() with promises</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use Promise.all for parallel operations</p>
                      <p class="text-sm text-gray-600">When operations are independent and can run simultaneously</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Keep asynchronous functions focused</p>
                      <p class="text-sm text-gray-600">Each function should do one thing well</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use meaningful names for async functions</p>
                      <p class="text-sm text-gray-600">Names should indicate what the function does and that it's asynchronous</p>
                    </div>
                  </li>
                </ul>
              </div>
              
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                  <span class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                    <i class="fas fa-times"></i>
                  </span>
                  Don't
                </h3>
                <ul class="space-y-4">
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid callback hell</p>
                      <p class="text-sm text-gray-600">Use promises or async/await instead of deeply nested callbacks</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Don't ignore promise rejections</p>
                      <p class="text-sm text-gray-600">Unhandled rejections can cause silent failures</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid mixing async/await with .then() chains</p>
                      <p class="text-sm text-gray-600">Choose one style for consistency</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Don't use async functions unnecessarily</p>
                      <p class="text-sm text-gray-600">If a function doesn't use await, it probably shouldn't be async</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid sequential execution when parallel is possible</p>
                      <p class="text-sm text-gray-600">Don't use await in a loop if operations are independent</p>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Good practices</span>

<span class="comment">// 1. Proper error handling</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>);
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching user data:'</span>, <span class="parameter">error</span>);
    <span class="comment">// Handle the error appropriately</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span>(<span class="string">`Failed to fetch data for user ${</span><span class="parameter">userId</span><span class="string">}`</span>);
  }
}

<span class="comment">// 2. Parallel execution when possible</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchDashboardData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="comment">// Run these in parallel since they don't depend on each other</span>
    <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">notifications</span>, <span class="variable">settings</span>] <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>([
      <span class="function">fetchUser</span>(<span class="parameter">userId</span>),
      <span class="function">fetchNotifications</span>(<span class="parameter">userId</span>),
      <span class="function">fetchUserSettings</span>(<span class="parameter">userId</span>)
    ]);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">notifications</span>, <span class="property">settings</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="mt-8 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Performance Considerations</h3>
              <p class="text-gray-700 mb-4">
                When working with asynchronous code, keep these performance tips in mind:
              </p>
              <ul class="space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Use parallel execution when operations are independent</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Consider batching multiple small requests into a single larger request</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Implement caching for expensive asynchronous operations</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Use throttling or debouncing for frequent events</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Consider using Web Workers for CPU-intensive tasks</span>
                </li>
              </ul>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#sequential-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Sequential Execution
              </a>
              <a href="#interactive-demo" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Interactive Demo
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Interactive Demo -->
          <section id="interactive-demo" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Interactive Demo</h2>
            
            <p class="text-gray-700 mb-6">
              Try out different asynchronous operations and see how they work. This interactive demo will help you understand the concepts better.
            </p>
            
            <div class="interactive-demo">
              <div class="interactive-demo-header">
                <h3 class="font-semibold">Async Explorer</h3>
                <div class="flex space-x-2">
                  <button class="tab-button active" data-tab="promises-demo">Promises</button>
                  <button class="tab-button" data-tab="async-await-demo">Async/Await</button>
                  <button class="tab-button" data-tab="parallel-demo">Parallel Execution</button>
                </div>
              </div>
              
              <div class="interactive-demo-content">
                <div class="tab-content active" id="promises-demo">
                  <p class="text-gray-700 mb-4">
                    Working with promises to handle asynchronous operations.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating an API call with promises</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">id</span>, <span class="parameter">delay</span> <span class="operator">=</span> <span class="number">2000</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">id</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="parameter">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Invalid ID'</span>));
      }
    }, <span class="parameter">delay</span>);
  });
}

<span class="comment">// Using the promise</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching data...'</span>);

<span class="function">fetchData</span>(<span class="number">1</span>)
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
    <span class="keyword">return</span> <span class="function">fetchData</span>(<span class="parameter">data</span>.<span class="property">id</span> <span class="operator">+</span> <span class="number">1</span>, <span class="number">1000</span>);
  })
  .<span class="function">then</span>(<span class="parameter">data2</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Second data received:'</span>, <span class="parameter">data2</span>);
    <span class="keyword">return</span> <span class="string">'All done!'</span>;
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Promise chain completed'</span>);
  });</code></pre>
                  </div>
                  <button class="mt-4 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-md transition-colors" id="run-promises">
                    Run Example
                  </button>
                  <div class="interactive-demo-output" id="promises-output">
                    <p class="text-gray-500 italic">Output will appear here...</p>
                  </div>
                </div>
                
                <div class="tab-content" id="async-await-demo">
                  <p class="text-gray-700 mb-4">
                    Using async/await for cleaner asynchronous code.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating an API call</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">id</span>, <span class="parameter">delay</span> <span class="operator">=</span> <span class="number">2000</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">id</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="parameter">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Invalid ID'</span>));
      }
    }, <span class="parameter">delay</span>);
  });
}

<span class="comment">// Using async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleData</span>() {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching first item...'</span>);
    <span class="keyword">const</span> <span class="variable">data1</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'First data received:'</span>, <span class="variable">data1</span>);
    
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching second item...'</span>);
    <span class="keyword">const</span> <span class="variable">data2</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>(<span class="variable">data1</span>.<span class="property">id</span> <span class="operator">+</span> <span class="number">1</span>, <span class="number">1000</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Second data received:'</span>, <span class="variable">data2</span>);
    
    <span class="keyword">return</span> <span class="string">'All done!'</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  } <span class="keyword">finally</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Async function completed'</span>);
  }
}

<span class="comment">// Call the async function</span>
<span class="function">fetchMultipleData</span>()
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="parameter">result</span>);
  });</code></pre>
                  </div>
                  <button class="mt-4 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-md transition-colors" id="run-async-await">
                    Run Example
                  </button>
                  <div class="interactive-demo-output" id="async-await-output">
                    <p class="text-gray-500 italic">Output will appear here...</p>
                  </div>
                </div>
                
                <div class="tab-content" id="parallel-demo">
                  <p class="text-gray-700 mb-4">
                    Running operations in parallel vs. sequentially.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating API calls</span>
<span class="keyword">function</span> <span class="function">fetchItem</span>(<span class="parameter">id</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">delay</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">floor</span>(<span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">*</span> <span class="number">2000</span>) <span class="operator">+</span> <span class="number">1000</span>;
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="function">resolve</span>({ <span class="property">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span>, <span class="property">delay</span> });
    }, <span class="variable">delay</span>);
  });
}

<span class="comment">// Sequential execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchSequentially</span>() {
  <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Sequential'</span>);
  
  <span class="keyword">const</span> <span class="variable">ids</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">id</span> <span class="keyword">of</span> <span class="variable">ids</span>) {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Fetching item ${</span><span class="variable">id</span><span class="string">}...`</span>);
    <span class="keyword">const</span> <span class="variable">item</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchItem</span>(<span class="variable">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Received item ${</span><span class="variable">id</span><span class="string">} after ${</span><span class="variable">item</span>.<span class="property">delay</span><span class="string">}ms`</span>);
    <span class="variable">results</span>.<span class="function">push</span>(<span class="variable">item</span>);
  }
  
  <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Sequential'</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}

<span class="comment">// Parallel execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchInParallel</span>() {
  <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Parallel'</span>);
  
  <span class="keyword">const</span> <span class="variable">ids</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
  <span class="keyword">const</span> <span class="variable">promises</span> <span class="operator">=</span> <span class="variable">ids</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Starting fetch for item ${</span><span class="parameter">id</span><span class="string">}...`</span>);
    <span class="keyword">return</span> <span class="function">fetchItem</span>(<span class="parameter">id</span>)
      .<span class="function">then</span>(<span class="parameter">item</span> <span class="operator">=></span> {
        <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Received item ${</span><span class="parameter">id</span><span class="string">} after ${</span><span class="parameter">item</span>.<span class="property">delay</span><span class="string">}ms`</span>);
        <span class="keyword">return</span> <span class="parameter">item</span>;
      });
  });
  
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">promises</span>);
  
  <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Parallel'</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}</code></pre>
                  </div>
                  
```### Enhanced JavaScript Asynchronous Programming Documentation Page

I'll create a comprehensive and visually engaging page about JavaScript asynchronous programming with interactive elements, animations, and in-depth content.

```html project="JavaScript Docs" file="async.html" type="html"
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Async Programming - JS Fundamentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
              code: {
                bg: '#1e293b',
                text: '#e2e8f0'
              }
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              mono: ['Fira Code', 'monospace'],
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' }
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' }
              },
              pulse: {
                '0%, 100%': { opacity: '1' },
                '50%': { opacity: '0.7' }
              },
              highlight: {
                '0%': { backgroundColor: 'transparent' },
                '40%': { backgroundColor: 'rgba(14, 165, 233, 0.2)' },
                '100%': { backgroundColor: 'transparent' }
              },
              typewriter: {
                '0%': { width: '0%' },
                '100%': { width: '100%' }
              },
              codeSlide: {
                '0%': { transform: 'translateX(-20px)', opacity: '0' },
                '100%': { transform: 'translateX(0)', opacity: '1' }
              },
              asyncFlow: {
                '0%': { transform: 'translateY(0)', opacity: '0.8' },
                '50%': { transform: 'translateY(-15px)', opacity: '1' },
                '100%': { transform: 'translateY(0)', opacity: '0.8' }
              },
              promiseState: {
                '0%': { transform: 'scale(0.95)', opacity: '0.8' },
                '50%': { transform: 'scale(1.05)', opacity: '1' },
                '100%': { transform: 'scale(0.95)', opacity: '0.8' }
              },
              spinAround: {
                '0%': { transform: 'rotate(0deg)' },
                '100%': { transform: 'rotate(360deg)' }
              },
              progressBar: {
                '0%': { width: '0%' },
                '100%': { width: '100%' }
              }
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out forwards',
              'float': 'float 3s ease-in-out infinite',
              'pulse': 'pulse 2s ease-in-out infinite',
              'highlight': 'highlight 2s ease-in-out',
              'typewriter': 'typewriter 2s steps(40, end)',
              'code-slide': 'codeSlide 0.5s ease-out forwards',
              'async-flow': 'asyncFlow 3s ease-in-out infinite',
              'promise-state': 'promiseState 2s ease-in-out infinite',
              'spin-around': 'spinAround 2s linear infinite',
              'progress-bar': 'progressBar 3s linear forwards'
            }
          }
        }
      }
    </script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
        scroll-behavior: smooth;
      }
      
      pre, code {
        font-family: 'Fira Code', monospace;
      }
      
      pre {
        background-color: theme('colors.code.bg');
        color: theme('colors.code.text');
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        position: relative;
      }
      
      .code-block {
        position: relative;
        margin: 1.5rem 0;
      }
      
      .code-block .copy-button {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        background-color: rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        border: none;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
      }
      
      .code-block:hover .copy-button {
        opacity: 1;
      }
      
      .code-block .copy-button:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }
      
      .code-block .copy-button.copied {
        background-color: rgba(16, 185, 129, 0.2);
      }
      
      .code-block .language-tag {
        position: absolute;
        top: 0.5rem;
        left: 0.5rem;
        background-color: rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        border-radius: 0.25rem;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
      }
      
      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        height: 3px;
        background: theme('colors.primary.500');
        z-index: 50;
        width: 0%;
        transition: width 0.2s ease;
      }
      
      .toc-link {
        display: block;
        padding: 0.5rem 1rem;
        color: #64748b;
        border-left: 2px solid #e2e8f0;
        transition: all 0.2s ease;
      }
      
      .toc-link:hover {
        color: #0ea5e9;
        border-left-color: #0ea5e9;
        background-color: rgba(14, 165, 233, 0.05);
      }
      
      .toc-link.active {
        color: #0ea5e9;
        border-left-color: #0ea5e9;
        font-weight: 500;
      }
      
      .section-highlight {
        animation: highlight 2s ease-in-out;
      }
      
      .typewriter {
        overflow: hidden;
        white-space: nowrap;
        border-right: 2px solid #0ea5e9;
        animation: typewriter 2s steps(40, end), pulse 1s infinite;
      }
      
      .async-card {
        transition: all 0.3s ease;
        border-left: 4px solid transparent;
      }
      
      .async-card:hover {
        transform: translateY(-5px);
        border-left: 4px solid theme('colors.primary.500');
      }
      
      .keyword {
        color: #f472b6;
        font-weight: 500;
      }
      
      .string {
        color: #a3e635;
      }
      
      .number {
        color: #fb923c;
      }
      
      .comment {
        color: #94a3b8;
        font-style: italic;
      }
      
      .function {
        color: #38bdf8;
      }
      
      .variable {
        color: #e2e8f0;
      }
      
      .operator {
        color: #e879f9;
      }
      
      .parameter {
        color: #d8b4fe;
      }
      
      .async-keyword {
        color: #60a5fa;
        font-weight: 500;
      }
      
      .await-keyword {
        color: #818cf8;
        font-weight: 500;
      }
      
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #94a3b8;
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }
      
      /* Interactive example styles */
      .interactive-demo {
        border: 2px solid #e2e8f0;
        border-radius: 0.5rem;
        overflow: hidden;
      }
      
      .interactive-demo-header {
        background-color: #f8fafc;
        padding: 0.75rem 1rem;
        border-bottom: 2px solid #e2e8f0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .interactive-demo-content {
        padding: 1rem;
      }
      
      .interactive-demo-output {
        background-color: #f1f5f9;
        border-radius: 0.25rem;
        padding: 1rem;
        margin-top: 1rem;
        min-height: 3rem;
      }
      
      .tab-button {
        padding: 0.5rem 1rem;
        border-radius: 0.25rem;
        font-weight: 500;
        transition: all 0.2s ease;
      }
      
      .tab-button.active {
        background-color: #0ea5e9;
        color: white;
      }
      
      .tab-content {
        display: none;
      }
      
      .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-out forwards;
      }
      
      .code-comparison {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      @media (min-width: 768px) {
        .code-comparison {
          grid-template-columns: 1fr 1fr;
        }
      }
      
      .code-comparison-item {
        opacity: 0;
        animation: fadeIn 0.5s ease-out forwards;
      }
      
      .code-comparison-item:nth-child(2) {
        animation-delay: 0.2s;
      }
      
      .async-visual {
        position: relative;
        padding: 2rem;
        border-radius: 0.5rem;
        background-color: #f8fafc;
        overflow: hidden;
        margin: 2rem 0;
      }
      
      .async-flow-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }
      
      .async-step {
        padding: 1rem;
        border-radius: 0.5rem;
        background-color: #e0f2fe;
        border: 2px solid #38bdf8;
        width: 80%;
        max-width: 400px;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .async-step:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      
      .async-arrow {
        color: #38bdf8;
        font-size: 1.5rem;
      }
      
      .promise-container {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 2rem 0;
      }
      
      .promise-state {
        padding: 1.5rem;
        border-radius: 0.5rem;
        width: 30%;
        min-width: 200px;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .promise-pending {
        background-color: #fef3c7;
        border: 2px solid #f59e0b;
      }
      
      .promise-fulfilled {
        background-color: #d1fae5;
        border: 2px solid #10b981;
      }
      
      .promise-rejected {
        background-color: #fee2e2;
        border: 2px solid #ef4444;
      }
      
      .event-loop-container {
        position: relative;
        width: 300px;
        height: 300px;
        margin: 0 auto;
      }
      
      .event-loop-circle {
        position: absolute;
        width: 100%;
        height: 100%;
        border: 4px solid #38bdf8;
        border-radius: 50%;
        animation: spin-around 10s linear infinite;
      }
      
      .event-loop-item {
        position: absolute;
        width: 60px;
        height: 60px;
        background-color: #e0f2fe;
        border: 2px solid #38bdf8;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        color: #0284c7;
      }
      
      .event-loop-item:nth-child(1) {
        top: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      
      .event-loop-item:nth-child(2) {
        top: 50%;
        right: 0;
        transform: translateY(-50%);
      }
      
      .event-loop-item:nth-child(3) {
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      
      .event-loop-item:nth-child(4) {
        top: 50%;
        left: 0;
        transform: translateY(-50%);
      }
      
      .progress-container {
        width: 100%;
        height: 20px;
        background-color: #e2e8f0;
        border-radius: 10px;
        overflow: hidden;
        margin: 1rem 0;
      }
      
      .progress-bar-demo {
        height: 100%;
        width: 0;
        background-color: #38bdf8;
        border-radius: 10px;
      }
      
      .loading-spinner {
        display: inline-block;
        width: 24px;
        height: 24px;
        border: 3px solid rgba(56, 189, 248, 0.3);
        border-radius: 50%;
        border-top-color: #38bdf8;
        animation: spin-around 1s linear infinite;
      }
      
      .async-demo-button {
        background-color: #0ea5e9;
        color: white;
        border: none;
        border-radius: 0.5rem;
        padding: 0.5rem 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .async-demo-button:hover {
        background-color: #0284c7;
      }
      
      .async-demo-button:disabled {
        background-color: #94a3b8;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Header -->
    <header class="bg-gradient-to-r from-primary-700 to-primary-900 text-white py-12 relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-r from-primary-700/30 to-primary-900/30"></div>
      <div class="container mx-auto px-4 relative z-10">
        <div class="flex justify-between items-center mb-8">
          <div class="flex items-center space-x-2">
            <div class="bg-white text-primary-600 h-10 w-10 rounded-lg flex items-center justify-center shadow-lg animate-float">
              <span class="text-xl font-bold">JS</span>
            </div>
            <a href="/" class="text-xl font-semibold tracking-tight hover:text-primary-200 transition-colors">JSFundamentals</a>
          </div>
          <div class="flex items-center space-x-6">
            <a href="/" class="text-white/80 hover:text-white transition-colors duration-200">Home</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Docs</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Examples</a>
            <a href="#" class="text-white/80 hover:text-white transition-colors duration-200">Community</a>
            <div class="dark-mode-toggle ml-4 text-white/80 hover:text-white cursor-pointer">
              <i class="fas fa-moon text-lg"></i>
            </div>
          </div>
        </div>
        
        <div class="max-w-3xl">
          <h1 class="text-4xl md:text-5xl font-bold leading-tight mb-4">Asynchronous JavaScript</h1>
          <p class="text-xl text-white/90 mb-8 leading-relaxed">Master the art of handling asynchronous operations - learn how to write non-blocking code that keeps your applications responsive and efficient.</p>
          <div class="flex flex-wrap gap-4">
            <a href="#basics" class="bg-white text-primary-700 hover:bg-gray-100 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg flex items-center">
              <span>Start Learning</span>
              <i class="fas fa-arrow-right ml-2"></i>
            </a>
            <a href="#interactive-demo" class="bg-transparent border border-white/30 backdrop-blur-sm text-white hover:bg-white/10 px-6 py-3 rounded-lg font-medium transition-all duration-200">
              <i class="fas fa-code mr-2"></i>
              <span>Try It Yourself</span>
            </a>
          </div>
        </div>
      </div>
      
      <!-- Decorative Elements -->
      <div class="absolute right-0 top-0 h-full w-1/3 opacity-10">
        <div class="absolute right-20 top-20 text-6xl animate-float" style="animation-delay: 0.5s;">async</div>
        <div class="absolute right-60 top-40 text-4xl animate-float" style="animation-delay: 1s;">await</div>
        <div class="absolute right-40 top-60 text-5xl animate-float" style="animation-delay: 1.5s;">then()</div>
        <div class="absolute right-80 top-80 text-7xl animate-float" style="animation-delay: 2s;">Promise</div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8 md:py-16">
      <div class="flex flex-col lg:flex-row gap-8">
        <!-- Sidebar / TOC -->
        <div class="lg:w-1/4">
          <div class="bg-white rounded-lg shadow-md p-6 sticky top-4">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Table of Contents</h2>
            <nav class="toc">
              <a href="#basics" class="toc-link">Async Basics</a>
              <a href="#callbacks" class="toc-link">Callbacks</a>
              <a href="#promises" class="toc-link">Promises</a>
              <a href="#async-await" class="toc-link">Async/Await</a>
              <a href="#event-loop" class="toc-link">Event Loop</a>
              <a href="#error-handling" class="toc-link">Error Handling</a>
              <a href="#parallel-execution" class="toc-link">Parallel Execution</a>
              <a href="#sequential-execution" class="toc-link">Sequential Execution</a>
              <a href="#best-practices" class="toc-link">Best Practices</a>
              <a href="#interactive-demo" class="toc-link">Interactive Demo</a>
              <a href="#common-patterns" class="toc-link">Common Patterns</a>
            </nav>
            
            <div class="mt-8 p-4 bg-primary-50 rounded-lg border border-primary-100">
              <h3 class="text-sm font-semibold text-primary-800 mb-2">Learning Progress</h3>
              <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div class="bg-primary-500 h-2.5 rounded-full" style="width: 0%" id="readingProgress"></div>
              </div>
              <p class="text-xs text-gray-500 mt-2">Scroll to track your progress</p>
            </div>
          </div>
        </div>
        
        <!-- Main Content -->
        <main class="lg:w-3/4">
          <!-- Async Basics -->
          <section id="basics" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Asynchronous JavaScript Basics</h2>
            
            <p class="text-gray-700 mb-4">
              Asynchronous programming is a technique that enables your program to start a potentially long-running task and still be able to be responsive to other events while that task runs, rather than having to wait until that task has finished.
            </p>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Why Asynchronous Programming Matters</h3>
              <p class="text-gray-700">
                Asynchronous code allows us to:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Keep the application responsive while performing time-consuming operations</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Handle multiple operations simultaneously</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Work with APIs, databases, and file systems efficiently</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Create better user experiences by avoiding blocking the main thread</span>
                </li>
              </ul>
            </div>
            
            <div class="async-visual my-8">
              <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                <div class="bg-red-100 border-2 border-red-400 rounded-lg p-4 text-center w-full md:w-64">
                  <h4 class="font-semibold text-red-800 mb-2">Synchronous</h4>
                  <div class="bg-white p-3 rounded shadow-sm">
                    <p class="text-sm text-gray-700">Tasks execute one after another, blocking the main thread</p>
                  </div>
                  <div class="flex flex-col gap-2 mt-4">
                    <div class="bg-red-200 p-2 rounded">Task 1</div>
                    <i class="fas fa-arrow-down text-red-500"></i>
                    <div class="bg-red-200 p-2 rounded">Task 2</div>
                    <i class="fas fa-arrow-down text-red-500"></i>
                    <div class="bg-red-200 p-2 rounded">Task 3</div>
                  </div>
                </div>
                
                <div class="bg-green-100 border-2 border-green-400 rounded-lg p-4 text-center w-full md:w-64">
                  <h4 class="font-semibold text-green-800 mb-2">Asynchronous</h4>
                  <div class="bg-white p-3 rounded shadow-sm">
                    <p class="text-sm text-gray-700">Tasks can run in parallel, not blocking the main thread</p>
                  </div>
                  <div class="flex flex-col gap-2 mt-4">
                    <div class="bg-green-200 p-2 rounded">Task 1</div>
                    <div class="flex justify-center">
                      <i class="fas fa-arrow-down text-green-500 mx-2"></i>
                      <i class="fas fa-arrow-down text-green-500 mx-2 animate-async-flow"></i>
                      <i class="fas fa-arrow-down text-green-500 mx-2" style="animation-delay: 0.5s;"></i>
                    </div>
                    <div class="flex gap-2">
                      <div class="bg-green-200 p-2 rounded flex-1">Task 2</div>
                      <div class="bg-green-200 p-2 rounded flex-1 animate-async-flow">Task 3</div>
                      <div class="bg-green-200 p-2 rounded flex-1" style="animation-delay: 0.5s;">Task 4</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <p class="text-gray-700 mb-4">
              JavaScript is single-threaded, meaning it can only execute one piece of code at a time. Asynchronous programming allows JavaScript to handle time-consuming operations without blocking the main thread.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Synchronous code example</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>);

<span class="keyword">function</span> <span class="function">doSomething</span>() {
  <span class="comment">// This is a synchronous function</span>
  <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator"><</span> <span class="number">3000000000</span>; <span class="variable">i</span><span class="operator">++</span>) {
    <span class="comment">// This loop will block the main thread</span>
  }
  <span class="keyword">return</span> <span class="string">'Task completed'</span>;
}

<span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="function">doSomething</span>();
<span class="variable">console</span>.<span class="function">log</span>(<span class="variable">result</span>);

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>);

<span class="comment">// Output (after a noticeable delay):
// Start
// Task completed
// End</span>

<span class="comment">// Asynchronous code example</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>);

<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="comment">// This is an asynchronous function</span>
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Task completed'</span>);
}, <span class="number">2000</span>);

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>);

<span class="comment">// Output:
// Start
// End
// Task completed (after 2 seconds)</span></code></pre>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <span class="text-sm text-gray-500">
                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                Asynchronous code is essential for modern web applications
              </span>
              <a href="#callbacks" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Callbacks
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Callbacks -->
          <section id="callbacks" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Callbacks</h2>
            
            <p class="text-gray-700 mb-4">
              Callbacks are functions passed as arguments to other functions, which are then invoked inside the outer function to complete some kind of routine or action. They are the most basic way to handle asynchronous operations in JavaScript.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Basic callback example</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John Doe'</span> };
    <span class="parameter">callback</span>(<span class="variable">data</span>);
  }, <span class="number">2000</span>);
}

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Starting data fetch...'</span>);

<span class="function">fetchData</span>((<span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
});

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Continuing with other tasks...'</span>);

<span class="comment">// Output:
// Starting data fetch...
// Continuing with other tasks...
// Data received: { id: 1, name: 'John Doe' } (after 2 seconds)</span></code></pre>
            </div>
            
            <div class="my-6 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Callback Hell</h3>
              <p class="text-gray-700 mb-4">
                When multiple asynchronous operations need to be chained together, callbacks can lead to deeply nested code that's hard to read and maintain. This is often called "callback hell" or the "pyramid of doom."
              </p>
              <div class="code-block mt-4">
                <pre><code><span class="comment">// Callback hell example</span>
<span class="function">fetchUserData</span>(<span class="parameter">userId</span>, (<span class="parameter">user</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got user:'</span>, <span class="parameter">user</span>);
  
  <span class="function">fetchUserPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>, (<span class="parameter">posts</span>) <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got posts:'</span>, <span class="parameter">posts</span>);
    
    <span class="function">fetchPostComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>, (<span class="parameter">comments</span>) <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got comments:'</span>, <span class="parameter">comments</span>);
      
      <span class="function">fetchCommentAuthor</span>(<span class="parameter">comments</span>[<span class="number">0</span>].<span class="property">authorId</span>, (<span class="parameter">author</span>) <span class="operator">=></span> {
        <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Got author:'</span>, <span class="parameter">author</span>);
        
        <span class="comment">// And it could go even deeper...</span>
      });
    });
  });
});</code></pre>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Error Handling with Callbacks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Callbacks</h3>
                <p class="text-gray-600 mb-4">
                  A common pattern for handling errors with callbacks is to use the first parameter for errors.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> };
      <span class="parameter">callback</span>(<span class="keyword">null</span>, <span class="variable">data</span>);
    } <span class="keyword">else</span> {
      <span class="parameter">callback</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
    }
  }, <span class="number">1000</span>);
}

<span class="function">fetchData</span>((<span class="parameter">error</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">return</span>;
  }
  
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
              
              <!-- Real-world Callback Example -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Real-world Callback Example</h3>
                <p class="text-gray-600 mb-4">
                  Many Web APIs and Node.js functions use callbacks.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// Browser: Event listeners</span>
<span class="variable">document</span>.<span class="function">getElementById</span>(<span class="string">'button'</span>)
  .<span class="function">addEventListener</span>(<span class="string">'click'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Button clicked!'</span>);
  });

<span class="comment">// Browser: setTimeout</span>
<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Timeout completed'</span>);
}, <span class="number">2000</span>);

<span class="comment">// Node.js: File system</span>
<span class="variable">fs</span>.<span class="function">readFile</span>(<span class="string">'file.txt'</span>, <span class="string">'utf8'</span>, (<span class="parameter">err</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">err</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error reading file:'</span>, <span class="parameter">err</span>);
    <span class="keyword">return</span>;
  }
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'File contents:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#basics" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Async Basics
              </a>
              <a href="#promises" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Promises
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Promises -->
          <section id="promises" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Promises</h2>
            
            <p class="text-gray-700 mb-4">
              Promises provide a cleaner, more elegant way to work with asynchronous code. A Promise represents a value that may not be available yet but will be resolved at some point in the future.
            </p>
            
            <div class="promise-container">
              <div class="promise-state promise-pending animate-promise-state">
                <h3 class="font-semibold text-yellow-800 mb-2">Pending</h3>
                <p class="text-sm">Initial state, neither fulfilled nor rejected</p>
              </div>
              <div class="promise-state promise-fulfilled animate-promise-state" style="animation-delay: 0.5s;">
                <h3 class="font-semibold text-green-800 mb-2">Fulfilled</h3>
                <p class="text-sm">Operation completed successfully</p>
              </div>
              <div class="promise-state promise-rejected animate-promise-state" style="animation-delay: 1s;">
                <h3 class="font-semibold text-red-800 mb-2">Rejected</h3>
                <p class="text-sm">Operation failed</p>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Creating a Promise</span>
<span class="keyword">const</span> <span class="variable">fetchData</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
  <span class="comment">// Simulating an API call</span>
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.3</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John Doe'</span> };
      <span class="function">resolve</span>(<span class="variable">data</span>); <span class="comment">// Fulfilled with data</span>
    } <span class="keyword">else</span> {
      <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>)); <span class="comment">// Rejected with error</span>
    }
  }, <span class="number">2000</span>);
});

<span class="comment">// Using a Promise</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Starting data fetch...'</span>);

<span class="variable">fetchData</span>
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetch operation completed'</span>);
  });

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Continuing with other tasks...'</span>);</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Promise Chaining</h3>
              <p class="text-gray-700 mb-4">
                Promises can be chained together, making it easier to handle sequences of asynchronous operations.
              </p>
              <div class="code-block mt-4">
                <pre><code><span class="comment">// Promise chaining</span>
<span class="function">fetchUser</span>(<span class="number">1</span>)
  .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
    <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>); <span class="comment">// Return a new promise</span>
  })
  .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
    <span class="keyword">return</span> <span class="function">fetchComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>); <span class="comment">// Return another promise</span>
  })
  .<span class="function">then</span>(<span class="parameter">comments</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments:'</span>, <span class="parameter">comments</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This will catch any error in the chain</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  });</code></pre>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Promise.all() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.all()</h3>
                <p class="text-gray-600 mb-4">
                  Executes multiple promises in parallel and waits for all of them to complete.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="function">fetchPosts</span>(<span class="number">1</span>);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="function">fetchComments</span>(<span class="number">1</span>);

<span class="variable">Promise</span>.<span class="function">all</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(([<span class="parameter">user</span>, <span class="parameter">posts</span>, <span class="parameter">comments</span>]) <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments:'</span>, <span class="parameter">comments</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// If any promise rejects, this will execute</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.race() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.race()</h3>
                <p class="text-gray-600 mb-4">
                  Returns the first promise that resolves or rejects.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Promise 1'</span>), <span class="number">2000</span>)
);

<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Promise 2'</span>), <span class="number">1000</span>)
);

<span class="variable">Promise</span>.<span class="function">race</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>])
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fastest promise:'</span>, <span class="parameter">result</span>);
    <span class="comment">// Output: "Fastest promise: Promise 2"</span>
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.allSettled() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.allSettled()</h3>
                <p class="text-gray-600 mb-4">
                  Waits for all promises to settle (fulfill or reject).
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">resolve</span>(<span class="string">'Success'</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">reject</span>(<span class="string">'Error'</span>);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">resolve</span>(<span class="number">42</span>);

<span class="variable">Promise</span>.<span class="function">allSettled</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(<span class="parameter">results</span> <span class="operator">=></span> {
    <span class="parameter">results</span>.<span class="function">forEach</span>((<span class="parameter">result</span>, <span class="parameter">index</span>) <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'fulfilled'</span>) {
        <span class="variable">console</span>.<span class="function">log</span>(
          <span class="string">`Promise ${</span><span class="parameter">index</span> <span class="operator">+</span> <span class="number">1</span><span class="string">} fulfilled with value: ${</span><span class="parameter">result</span>.<span class="property">value</span><span class="string">}`</span>
        );
      } <span class="keyword">else</span> {
        <span class="variable">console</span>.<span class="function">log</span>(
          <span class="string">`Promise ${</span><span class="parameter">index</span> <span class="operator">+</span> <span class="number">1</span><span class="string">} rejected with reason: ${</span><span class="parameter">result</span>.<span class="property">reason</span><span class="string">}`</span>
        );
      }
    });
  });</code></pre>
                </div>
              </div>
              
              <!-- Promise.any() -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.any()</h3>
                <p class="text-gray-600 mb-4">
                  Returns the first promise that fulfills (ignores rejections).
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">const</span> <span class="variable">promise1</span> <span class="operator">=</span> <span class="variable">Promise</span>.<span class="function">reject</span>(<span class="string">'Error 1'</span>);
<span class="keyword">const</span> <span class="variable">promise2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Success 2'</span>), <span class="number">2000</span>)
);
<span class="keyword">const</span> <span class="variable">promise3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> 
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> <span class="function">resolve</span>(<span class="string">'Success 3'</span>), <span class="number">1000</span>)
);

<span class="variable">Promise</span>.<span class="function">any</span>([<span class="variable">promise1</span>, <span class="variable">promise2</span>, <span class="variable">promise3</span>])
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'First fulfilled promise:'</span>, <span class="parameter">result</span>);
    <span class="comment">// Output: "First fulfilled promise: Success 3"</span>
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This runs if all promises reject</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'All promises rejected'</span>);
  });</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#callbacks" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Callbacks
              </a>
              <a href="#async-await" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Async/Await
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Async/Await -->
          <section id="async-await" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Async/Await</h2>
            
            <p class="text-gray-700 mb-4">
              Async/await is a modern syntax introduced in ES2017 that makes asynchronous code look and behave more like synchronous code, while still being non-blocking. It's built on top of promises and makes asynchronous code more readable and easier to debug.
            </p>
            
            <div class="async-visual my-8">
              <div class="async-flow-container">
                <div class="async-step">
                  <span class="font-semibold">1. Mark function with <span class="text-blue-600">async</span> keyword</span>
                </div>
                <div class="async-arrow">
                  <i class="fas fa-arrow-down"></i>
                </div>
                <div class="async-step">
                  <span class="font-semibold">2. Use <span class="text-indigo-600">await</span> to pause execution</span>
                </div>
                <div class="async-arrow">
                  <i class="fas fa-arrow-down"></i>
                </div>
                <div class="async-step">
                  <span class="font-semibold">3. Code appears synchronous but runs asynchronously</span>
                </div>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Basic async/await example</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching user data...'</span>);
  
  <span class="keyword">try</span> {
    <span class="comment">// The await keyword pauses execution until the promise resolves</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User data:'</span>, <span class="variable">user</span>);
    
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User posts:'</span>, <span class="variable">posts</span>);
    
    <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchComments</span>(<span class="variable">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Post comments:'</span>, <span class="variable">comments</span>);
    
    <span class="keyword">return</span> {
      <span class="property">user</span>,
      <span class="property">posts</span>,
      <span class="property">comments</span>
    };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>; <span class="comment">// Re-throw the error</span>
  }
}

<span class="comment">// Using the async function</span>
<span class="function">fetchUserData</span>()
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'All data:'</span>, <span class="parameter">data</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Failed to fetch data:'</span>, <span class="parameter">error</span>);
  });</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">Key Points About Async/Await</h3>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Functions marked with <code>async</code> always return a Promise</p>
                    <p class="text-sm text-gray-600">Even if you return a non-promise value, it will be wrapped in a Promise</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">The <code>await</code> keyword can only be used inside <code>async</code> functions</p>
                    <p class="text-sm text-gray-600">(Except at the top level in modern JavaScript modules)</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Error handling uses standard try/catch blocks</p>
                    <p class="text-sm text-gray-600">Makes debugging easier compared to promise chains</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Async/await is non-blocking</p>
                    <p class="text-sm text-gray-600">It's just syntactic sugar over promises, not synchronous code</p>
                  </div>
                </li>
              </ul>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Comparison with Promises -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Comparison with Promises</h3>
                <p class="text-gray-600 mb-4">
                  Async/await provides a cleaner syntax compared to promise chains.
                </p>
                <div class="code-comparison">
                  <div class="code-comparison-item">
                    <h4 class="font-medium text-gray-900 mb-2">Promise Chain</h4>
                    <pre class="text-sm bg-gray-100 p-3 rounded"><code><span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="keyword">return</span> <span class="function">fetchUser</span>(<span class="number">1</span>)
    .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="parameter">user</span>);
      <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>)
        .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
          <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="parameter">posts</span>);
          <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
        });
    })
    .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">error</span>(<span class="parameter">error</span>);
      <span class="keyword">throw</span> <span class="parameter">error</span>;
    });
}</code></pre>
                  </div>
                  
                  <div class="code-comparison-item">
                    <h4 class="font-medium text-gray-900 mb-2">Async/Await</h4>
                    <pre class="text-sm bg-gray-100 p-3 rounded"><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User:'</span>, <span class="variable">user</span>);
    
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts:'</span>, <span class="variable">posts</span>);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
                  </div>
                </div>
              </div>
              
              <!-- Parallel Operations -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Parallel Operations</h3>
                <p class="text-gray-600 mb-4">
                  You can still run operations in parallel with async/await.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllData</span>() {
  <span class="keyword">try</span> {
    <span class="comment">// Start all fetches in parallel</span>
    <span class="keyword">const</span> <span class="variable">userPromise</span> <span class="operator">=</span> <span class="function">fetchUser</span>(<span class="number">1</span>);
    <span class="keyword">const</span> <span class="variable">postsPromise</span> <span class="operator">=</span> <span class="function">fetchPosts</span>(<span class="number">1</span>);
    <span class="keyword">const</span> <span class="variable">commentsPromise</span> <span class="operator">=</span> <span class="function">fetchComments</span>(<span class="number">1</span>);
    
    <span class="comment">// Wait for all promises to resolve</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">userPromise</span>;
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">postsPromise</span>;
    <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">commentsPromise</span>;
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}

<span class="comment">// Or using Promise.all with async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllDataParallel</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">posts</span>, <span class="variable">comments</span>] <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>([
      <span class="function">fetchUser</span>(<span class="number">1</span>),
      <span class="function">fetchPosts</span>(<span class="number">1</span>),
      <span class="function">fetchComments</span>(<span class="number">1</span>)
    ]);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#promises" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Promises
              </a>
              <a href="#event-loop" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Event Loop
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Event Loop -->
          <section id="event-loop" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">The JavaScript Event Loop</h2>
            
            <p class="text-gray-700 mb-4">
              To understand asynchronous JavaScript, it's essential to understand the event loop - the mechanism that allows JavaScript to perform non-blocking operations despite being single-threaded.
            </p>
            
            <div class="my-8 flex justify-center">
              <div class="event-loop-container">
                <div class="event-loop-circle"></div>
                <div class="event-loop-item">Call Stack</div>
                <div class="event-loop-item">Web APIs</div>
                <div class="event-loop-item">Callback Queue</div>
                <div class="event-loop-item">Event Loop</div>
              </div>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">How the Event Loop Works</h3>
              <ol class="mt-2 space-y-4 list-decimal pl-5">
                <li>
                  <p class="font-medium">Call Stack</p>
                  <p class="text-sm text-gray-600">JavaScript maintains a call stack where it keeps track of function calls. When a function is called, it's added to the stack; when it returns, it's removed.</p>
                </li>
                <li>
                  <p class="font-medium">Web APIs (in browsers) or C++ APIs (in Node.js)</p>
                  <p class="text-sm text-gray-600">When an asynchronous operation is encountered (like setTimeout, fetch, or file I/O), it's handed off to these APIs to handle outside the JavaScript engine.</p>
                </li>
                <li>
                  <p class="font-medium">Callback Queue</p>
                  <p class="text-sm text-gray-600">When the asynchronous operation completes, its callback function is placed in the callback queue.</p>
                </li>
                <li>
                  <p class="font-medium">Event Loop</p>
                  <p class="text-sm text-gray-600">The event loop constantly checks if the call stack is empty. If it is, it takes the first callback from the queue and pushes it onto the call stack for execution.</p>
                </li>
              </ol>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Start'</span>); <span class="comment">// 1. Added to call stack and executed immediately</span>

<span class="variable">setTimeout</span>(() <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Timeout callback'</span>); <span class="comment">// 4. Executed after call stack is empty</span>
}, <span class="number">0</span>); <span class="comment">// 2. Handed off to Web API, then callback added to queue</span>

<span class="variable">Promise</span>.<span class="function">resolve</span>()
  .<span class="function">then</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Promise callback'</span>); <span class="comment">// 3. Microtasks have higher priority</span>
  });

<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'End'</span>); <span class="comment">// 2. Added to call stack and executed immediately</span>

<span class="comment">// Output:
// Start
// End
// Promise callback
// Timeout callback</span></code></pre>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Microtasks vs Macrotasks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Microtasks vs Macrotasks</h3>
                <p class="text-gray-600 mb-4">
                  The event loop processes different types of tasks with different priorities.
                </p>
                <ul class="space-y-2">
                  <li class="flex items-start">
                    <i class="fas fa-circle text-blue-500 text-xs mt-1.5 mr-2"></i>
                    <div>
                      <p class="font-medium">Microtasks</p>
                      <p class="text-sm text-gray-600">Higher priority, processed after the current task and before the next macrotask</p>
                      <p class="text-sm text-gray-600">Examples: Promise callbacks, MutationObserver, queueMicrotask()</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-circle text-green-500 text-xs mt-1.5 mr-2"></i>
                    <div>
                      <p class="font-medium">Macrotasks</p>
                      <p class="text-sm text-gray-600">Lower priority, processed one per event loop iteration</p>
                      <p class="text-sm text-gray-600">Examples: setTimeout, setInterval, I/O operations, UI rendering</p>
                    </div>
                  </li>
                </ul>
              </div>
              
              <!-- Event Loop Visualization -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Event Loop Process</h3>
                <ol class="space-y-2 list-decimal pl-5">
                  <li class="text-gray-600">Execute all tasks in the call stack</li>
                  <li class="text-gray-600">Execute all microtasks</li>
                  <li class="text-gray-600">If there are more microtasks created during step 2, execute them</li>
                  <li class="text-gray-600">Render UI updates (in browsers)</li>
                  <li class="text-gray-600">Pick the oldest macrotask from the queue</li>
                  <li class="text-gray-600">Go back to step 1</li>
                </ol>
                <div class="mt-4">
                  <p class="text-sm text-gray-600">This process ensures that promises are handled promptly, while still allowing other tasks to execute in a non-blocking way.</p>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#async-await" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Async/Await
              </a>
              <a href="#error-handling" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Error Handling
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Error Handling -->
          <section id="error-handling" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Error Handling in Asynchronous Code</h2>
            
            <p class="text-gray-700 mb-4">
              Proper error handling is crucial in asynchronous JavaScript to prevent unhandled rejections and ensure your application can recover gracefully from failures.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Error Handling with Callbacks -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Callbacks</h3>
                <p class="text-gray-600 mb-4">
                  The error-first callback pattern is common in Node.js.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">callback</span>) {
  <span class="comment">// Simulate an API call</span>
  <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
    
    <span class="keyword">if</span> (<span class="variable">success</span>) {
      <span class="parameter">callback</span>(<span class="keyword">null</span>, { <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> });
    } <span class="keyword">else</span> {
      <span class="parameter">callback</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
    }
  }, <span class="number">1000</span>);
}

<span class="function">fetchData</span>((<span class="parameter">error</span>, <span class="parameter">data</span>) <span class="operator">=></span> {
  <span class="keyword">if</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">return</span>;
  }
  
  <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
});</code></pre>
                </div>
              </div>
              
              <!-- Error Handling with Promises -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Promises</h3>
                <p class="text-gray-600 mb-4">
                  Use catch() to handle errors in promise chains.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">fetchData</span>() {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">const</span> <span class="variable">success</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">></span> <span class="number">0.5</span>;
      
      <span class="keyword">if</span> (<span class="variable">success</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="number">1</span>, <span class="property">name</span>: <span class="string">'John'</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Failed to fetch data'</span>));
      }
    }, <span class="number">1000</span>);
  });
}

<span class="function">fetchData</span>()
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="parameter">data</span>);
    <span class="keyword">return</span> <span class="function">processData</span>(<span class="parameter">data</span>);
  })
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="parameter">result</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="comment">// This catches errors from fetchData and processData</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Operation completed'</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Error Handling with Async/Await -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Error Handling with Async/Await</h3>
                <p class="text-gray-600 mb-4">
                  Use try/catch blocks with async/await.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAndProcessData</span>() {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">data</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>();
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data:'</span>, <span class="variable">data</span>);
    
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processData</span>(<span class="variable">data</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="variable">result</span>);
    
    <span class="keyword">return</span> <span class="variable">result</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="comment">// This catches errors from both fetchData and processData</span>
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    
    <span class="comment">// You can handle specific errors</span>
    <span class="keyword">if</span> (<span class="parameter">error</span>.<span class="property">name</span> <span class="operator">===</span> <span class="string">'NetworkError'</span>) {
      <span class="comment">// Handle network errors</span>
      <span class="keyword">return</span> <span class="function">getFromCache</span>();
    }
    
    <span class="comment">//  <span class="function">getFromCache</span>();
    }
    
    <span class="comment">// Re-throw the error for the caller to handle</span>
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  } <span class="keyword">finally</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Operation completed'</span>);
  }
}

<span class="comment">// Using the async function</span>
<span class="function">fetchAndProcessData</span>()
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Final result:'</span>, <span class="parameter">result</span>);
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled error:'</span>, <span class="parameter">error</span>);
  });</code></pre>
                </div>
              </div>
              
              <!-- Global Error Handling -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Global Error Handling</h3>
                <p class="text-gray-600 mb-4">
                  Set up global handlers for unhandled errors.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// For unhandled promise rejections</span>
<span class="variable">window</span>.<span class="function">addEventListener</span>(<span class="string">'unhandledrejection'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled promise rejection:'</span>, <span class="parameter">event</span>.<span class="property">reason</span>);
  
  <span class="comment">// Prevent the default handling</span>
  <span class="parameter">event</span>.<span class="function">preventDefault</span>();
});

<span class="comment">// For synchronous errors</span>
<span class="variable">window</span>.<span class="function">addEventListener</span>(<span class="string">'error'</span>, <span class="keyword">function</span>(<span class="parameter">event</span>) {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Global error:'</span>, <span class="parameter">event</span>.<span class="property">error</span>);
});

<span class="comment">// In Node.js</span>
<span class="variable">process</span>.<span class="function">on</span>(<span class="string">'unhandledRejection'</span>, (<span class="parameter">reason</span>, <span class="parameter">promise</span>) <span class="operator">=></span> {
  <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Unhandled Rejection:'</span>, <span class="parameter">reason</span>);
  <span class="comment">// Application specific logging, sending errors to a service</span>
});</code></pre>
                </div>
              </div>
            </div>
            
            <div class="my-6 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Best Practices for Error Handling</h3>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Always handle errors in asynchronous code</p>
                    <p class="text-sm text-gray-600">Unhandled promise rejections can lead to silent failures</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Use specific error types</p>
                    <p class="text-sm text-gray-600">Create custom error classes to distinguish between different types of errors</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Provide meaningful error messages</p>
                    <p class="text-sm text-gray-600">Include details that help diagnose the problem</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Set up global error handlers</p>
                    <p class="text-sm text-gray-600">Catch errors that slip through local error handling</p>
                  </div>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-yellow-600 mt-1 mr-2"></i>
                  <div>
                    <p class="font-medium">Log errors for debugging</p>
                    <p class="text-sm text-gray-600">But be careful not to expose sensitive information to users</p>
                  </div>
                </li>
              </ul>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#event-loop" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Event Loop
              </a>
              <a href="#parallel-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Parallel Execution
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Parallel Execution -->
          <section id="parallel-execution" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Parallel Execution</h2>
            
            <p class="text-gray-700 mb-4">
              Running multiple asynchronous operations simultaneously can significantly improve performance. JavaScript provides several ways to execute operations in parallel.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Using Promise.all for parallel execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleUsers</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Parallel fetch'</span>);
    
    <span class="comment">// Create an array of promises</span>
    <span class="keyword">const</span> <span class="variable">userPromises</span> <span class="operator">=</span> <span class="parameter">userIds</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> <span class="function">fetchUser</span>(<span class="parameter">id</span>));
    
    <span class="comment">// Wait for all promises to resolve</span>
    <span class="keyword">const</span> <span class="variable">users</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">userPromises</span>);
    
    <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Parallel fetch'</span>);
    <span class="keyword">return</span> <span class="variable">users</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching users:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}

<span class="comment">// Compare with sequential execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleUsersSequentially</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Sequential fetch'</span>);
    
    <span class="keyword">const</span> <span class="variable">users</span> <span class="operator">=</span> [];
    <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">id</span> <span class="keyword">of</span> <span class="parameter">userIds</span>) {
      <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="variable">id</span>);
      <span class="variable">users</span>.<span class="function">push</span>(<span class="variable">user</span>);
    }
    
    <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Sequential fetch'</span>);
    <span class="keyword">return</span> <span class="variable">users</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching users:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">When to Use Parallel Execution</h3>
              <p class="text-gray-700 mb-4">
                Parallel execution is ideal when:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Operations are independent of each other</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You want to minimize total execution time</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're fetching data from multiple sources</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're processing multiple items that don't depend on each other</span>
                </li>
              </ul>
              <p class="text-gray-700 mt-4">
                However, be careful not to overwhelm servers with too many simultaneous requests. Consider using techniques like batching or throttling for large numbers of operations.
              </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Promise.allSettled -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Promise.allSettled</h3>
                <p class="text-gray-600 mb-4">
                  When you want to execute all operations regardless of individual failures.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchAllUserData</span>(<span class="parameter">userIds</span>) {
  <span class="keyword">const</span> <span class="variable">promises</span> <span class="operator">=</span> <span class="parameter">userIds</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> <span class="function">fetchUser</span>(<span class="parameter">id</span>));
  
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">allSettled</span>(<span class="variable">promises</span>);
  
  <span class="keyword">const</span> <span class="variable">successfulUsers</span> <span class="operator">=</span> <span class="variable">results</span>
    .<span class="function">filter</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'fulfilled'</span>)
    .<span class="function">map</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">value</span>);
  
  <span class="keyword">const</span> <span class="variable">failedRequests</span> <span class="operator">=</span> <span class="variable">results</span>
    .<span class="function">filter</span>(<span class="parameter">result</span> <span class="operator">=></span> <span class="parameter">result</span>.<span class="property">status</span> <span class="operator">===</span> <span class="string">'rejected'</span>)
    .<span class="function">map</span>((<span class="parameter">result</span>, <span class="parameter">index</span>) <span class="operator">=></span> ({
      <span class="property">userId</span>: <span class="parameter">userIds</span>[<span class="parameter">index</span>],
      <span class="property">error</span>: <span class="parameter">result</span>.<span class="property">reason</span>
    }));
  
  <span class="keyword">return</span> {
    <span class="property">users</span>: <span class="variable">successfulUsers</span>,
    <span class="property">failures</span>: <span class="variable">failedRequests</span>
  };
}</code></pre>
                </div>
              </div>
              
              <!-- Limiting Concurrency -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Limiting Concurrency</h3>
                <p class="text-gray-600 mb-4">
                  Control the number of concurrent operations.
                </p>
                <div class="code-block">
                  <pre><code><span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchWithConcurrencyLimit</span>(<span class="parameter">urls</span>, <span class="parameter">limit</span> <span class="operator">=</span> <span class="number">5</span>) {
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  <span class="keyword">const</span> <span class="variable">inProgress</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="function">Set</span>();
  <span class="keyword">const</span> <span class="variable">queue</span> <span class="operator">=</span> [...<span class="parameter">urls</span>];
  
  <span class="keyword">async</span> <span class="keyword">function</span> <span class="function">processQueue</span>() {
    <span class="keyword">if</span> (<span class="variable">queue</span>.<span class="property">length</span> <span class="operator">===</span> <span class="number">0</span>) <span class="keyword">return</span>;
    
    <span class="keyword">const</span> <span class="variable">url</span> <span class="operator">=</span> <span class="variable">queue</span>.<span class="function">shift</span>();
    <span class="variable">inProgress</span>.<span class="function">add</span>(<span class="variable">url</span>);
    
    <span class="keyword">try</span> {
      <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetch</span>(<span class="variable">url</span>);
      <span class="variable">results</span>.<span class="function">push</span>({
        <span class="property">url</span>,
        <span class="property">data</span>: <span class="await-keyword">await</span> <span class="variable">result</span>.<span class="function">json</span>()
      });
    } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
      <span class="variable">results</span>.<span class="function">push</span>({ <span class="property">url</span>, <span class="property">error</span> });
    } <span class="keyword">finally</span> {
      <span class="variable">inProgress</span>.<span class="function">delete</span>(<span class="variable">url</span>);
      <span class="comment">// Start next task</span>
      <span class="keyword">await</span> <span class="function">processQueue</span>();
    }
  }
  
  <span class="comment">// Start initial batch of tasks</span>
  <span class="keyword">const</span> <span class="variable">initialBatch</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">min</span>(<span class="parameter">limit</span>, <span class="variable">queue</span>.<span class="property">length</span>);
  <span class="keyword">const</span> <span class="variable">initialPromises</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; <span class="variable">i</span> <span class="operator"><</span> <span class="variable">initialBatch</span>; <span class="variable">i</span><span class="operator">++</span>) {
    <span class="variable">initialPromises</span>.<span class="function">push</span>(<span class="function">processQueue</span>());
  }
  
  <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">initialPromises</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#error-handling" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Error Handling
              </a>
              <a href="#sequential-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Sequential Execution
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Sequential Execution -->
          <section id="sequential-execution" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Sequential Execution</h2>
            
            <p class="text-gray-700 mb-4">
              Sometimes operations need to be executed in a specific order, where each step depends on the result of the previous one. This is where sequential execution comes in.
            </p>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Sequential execution with async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="comment">// Step 1: Fetch user</span>
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User fetched:'</span>, <span class="variable">user</span>.<span class="property">name</span>);
    
    <span class="comment">// Step 2: Fetch posts (depends on user.id)</span>
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts fetched:'</span>, <span class="variable">posts</span>.<span class="property">length</span>);
    
    <span class="comment">// Step 3: Fetch comments for the first post (depends on posts)</span>
    <span class="keyword">if</span> (<span class="variable">posts</span>.<span class="property">length</span> <span class="operator">></span> <span class="number">0</span>) {
      <span class="keyword">const</span> <span class="variable">comments</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchComments</span>(<span class="variable">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments fetched:'</span>, <span class="variable">comments</span>.<span class="property">length</span>);
      
      <span class="comment">// Step 4: Process all the data</span>
      <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processData</span>(<span class="variable">user</span>, <span class="variable">posts</span>, <span class="variable">comments</span>);
      <span class="keyword">return</span> <span class="variable">result</span>;
    } <span class="keyword">else</span> {
      <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span>, <span class="property">comments</span>: [] };
    }
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error processing user data:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="my-6 p-6 bg-primary-50 rounded-lg border-l-4 border-primary-500">
              <h3 class="text-xl font-semibold text-primary-800 mb-2">When to Use Sequential Execution</h3>
              <p class="text-gray-700 mb-4">
                Sequential execution is necessary when:
              </p>
              <ul class="mt-2 space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Each step depends on the result of the previous step</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>Operations need to be performed in a specific order</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You need to ensure one operation completes before starting another</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary-500 mt-1 mr-2"></i>
                  <span>You're implementing a step-by-step process or workflow</span>
                </li>
              </ul>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
              <!-- Sequential with Promise Chains -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Sequential with Promise Chains</h3>
                <p class="text-gray-600 mb-4">
                  Using promise chains for sequential execution.
                </p>
                <div class="code-block">
                  <pre><code><span class="keyword">function</span> <span class="function">processUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">let</span> <span class="variable">userData</span> <span class="operator">=</span> {};
  
  <span class="keyword">return</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>)
    .<span class="function">then</span>(<span class="parameter">user</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">user</span> <span class="operator">=</span> <span class="parameter">user</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'User fetched:'</span>, <span class="parameter">user</span>.<span class="property">name</span>);
      <span class="keyword">return</span> <span class="function">fetchPosts</span>(<span class="parameter">user</span>.<span class="property">id</span>);
    })
    .<span class="function">then</span>(<span class="parameter">posts</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">posts</span> <span class="operator">=</span> <span class="parameter">posts</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Posts fetched:'</span>, <span class="parameter">posts</span>.<span class="property">length</span>);
      
      <span class="keyword">if</span> (<span class="parameter">posts</span>.<span class="property">length</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="keyword">return</span> <span class="function">fetchComments</span>(<span class="parameter">posts</span>[<span class="number">0</span>].<span class="property">id</span>);
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> [];
      }
    })
    .<span class="function">then</span>(<span class="parameter">comments</span> <span class="operator">=></span> {
      <span class="variable">userData</span>.<span class="property">comments</span> <span class="operator">=</span> <span class="parameter">comments</span>;
      <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Comments fetched:'</span>, <span class="parameter">comments</span>.<span class="property">length</span>);
      
      <span class="keyword">return</span> <span class="function">processData</span>(
        <span class="variable">userData</span>.<span class="property">user</span>, 
        <span class="variable">userData</span>.<span class="property">posts</span>, 
        <span class="variable">userData</span>.<span class="property">comments</span>
      );
    })
    .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
      <span class="keyword">return</span> <span class="parameter">result</span>;
    })
    .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
      <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
      <span class="keyword">throw</span> <span class="parameter">error</span>;
    });</code></pre>
                </div>
              </div>
              
              <!-- Processing Arrays Sequentially -->
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Processing Arrays Sequentially</h3>
                <p class="text-gray-600 mb-4">
                  Processing an array of items one after another.
                </p>
                <div class="code-block">
                  <pre><code><span class="comment">// Process array items sequentially</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processItemsSequentially</span>(<span class="parameter">items</span>) {
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">item</span> <span class="keyword">of</span> <span class="parameter">items</span>) {
    <span class="comment">// Process each item and wait for it to complete</span>
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processItem</span>(<span class="variable">item</span>);
    <span class="variable">results</span>.<span class="function">push</span>(<span class="variable">result</span>);
  }
  
  <span class="keyword">return</span> <span class="variable">results</span>;
}

<span class="comment">// Using reduce for sequential promises</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">processWithReduce</span>(<span class="parameter">items</span>) {
  <span class="keyword">return</span> <span class="parameter">items</span>.<span class="function">reduce</span>(<span class="async-keyword">async</span> (<span class="parameter">previousPromise</span>, <span class="parameter">item</span>) <span class="operator">=></span> {
    <span class="comment">// Wait for the previous promise to resolve</span>
    <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="parameter">previousPromise</span>;
    
    <span class="comment">// Process the current item</span>
    <span class="keyword">const</span> <span class="variable">result</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">processItem</span>(<span class="parameter">item</span>);
    
    <span class="comment">// Add the result to the array</span>
    <span class="keyword">return</span> [...<span class="variable">results</span>, <span class="variable">result</span>];
  }, <span class="variable">Promise</span>.<span class="function">resolve</span>([]));
}</code></pre>
                </div>
              </div>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#parallel-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Parallel Execution
              </a>
              <a href="#best-practices" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Best Practices
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Best Practices -->
          <section id="best-practices" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Best Practices</h2>
            
            <p class="text-gray-700 mb-4">
              Following these best practices will help you write cleaner, more maintainable asynchronous JavaScript code.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                  <span class="bg-green-100 text-green-600 p-2 rounded-lg mr-3">
                    <i class="fas fa-check"></i>
                  </span>
                  Do
                </h3>
                <ul class="space-y-4">
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use async/await for most asynchronous code</p>
                      <p class="text-sm text-gray-600">It's more readable and easier to debug</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Always handle errors in asynchronous code</p>
                      <p class="text-sm text-gray-600">Use try/catch with async/await or .catch() with promises</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use Promise.all for parallel operations</p>
                      <p class="text-sm text-gray-600">When operations are independent and can run simultaneously</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Keep asynchronous functions focused</p>
                      <p class="text-sm text-gray-600">Each function should do one thing well</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Use meaningful names for async functions</p>
                      <p class="text-sm text-gray-600">Names should indicate what the function does and that it's asynchronous</p>
                    </div>
                  </li>
                </ul>
              </div>
              
              <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                  <span class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                    <i class="fas fa-times"></i>
                  </span>
                  Don't
                </h3>
                <ul class="space-y-4">
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid callback hell</p>
                      <p class="text-sm text-gray-600">Use promises or async/await instead of deeply nested callbacks</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Don't ignore promise rejections</p>
                      <p class="text-sm text-gray-600">Unhandled rejections can cause silent failures</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid mixing async/await with .then() chains</p>
                      <p class="text-sm text-gray-600">Choose one style for consistency</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Don't use async functions unnecessarily</p>
                      <p class="text-sm text-gray-600">If a function doesn't use await, it probably shouldn't be async</p>
                    </div>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-times-circle text-red-500 mt-1 mr-2"></i>
                    <div>
                      <p class="font-medium">Avoid sequential execution when parallel is possible</p>
                      <p class="text-sm text-gray-600">Don't use await in a loop if operations are independent</p>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            
            <div class="code-block">
              <div class="language-tag">javascript</div>
              <button class="copy-button">Copy</button>
              <pre><code><span class="comment">// Good practices</span>

<span class="comment">// 1. Proper error handling</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchUserData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchUser</span>(<span class="parameter">userId</span>);
    <span class="keyword">const</span> <span class="variable">posts</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchPosts</span>(<span class="variable">user</span>.<span class="property">id</span>);
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">posts</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error fetching user data:'</span>, <span class="parameter">error</span>);
    <span class="comment">// Handle the error appropriately</span>
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="function">Error</span>(<span class="string">`Failed to fetch data for user ${</span><span class="parameter">userId</span><span class="string">}`</span>);
  }
}

<span class="comment">// 2. Parallel execution when possible</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchDashboardData</span>(<span class="parameter">userId</span>) {
  <span class="keyword">try</span> {
    <span class="comment">// Run these in parallel since they don't depend on each other</span>
    <span class="keyword">const</span> [<span class="variable">user</span>, <span class="variable">notifications</span>, <span class="variable">settings</span>] <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>([
      <span class="function">fetchUser</span>(<span class="parameter">userId</span>),
      <span class="function">fetchNotifications</span>(<span class="parameter">userId</span>),
      <span class="function">fetchUserSettings</span>(<span class="parameter">userId</span>)
    ]);
    
    <span class="keyword">return</span> { <span class="property">user</span>, <span class="property">notifications</span>, <span class="property">settings</span> };
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  }
}</code></pre>
            </div>
            
            <div class="mt-8 p-6 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
              <h3 class="text-xl font-semibold text-yellow-800 mb-2">Performance Considerations</h3>
              <p class="text-gray-700 mb-4">
                When working with asynchronous code, keep these performance tips in mind:
              </p>
              <ul class="space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Use parallel execution when operations are independent</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Consider batching multiple small requests into a single larger request</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Implement caching for expensive asynchronous operations</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Use throttling or debouncing for frequent events</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-bolt text-yellow-600 mt-1 mr-2"></i>
                  <span>Consider using Web Workers for CPU-intensive tasks</span>
                </li>
              </ul>
            </div>
            
            <div class="mt-6 flex items-center justify-between">
              <a href="#sequential-execution" class="text-primary-600 hover:text-primary-700 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i>
                Previous: Sequential Execution
              </a>
              <a href="#interactive-demo" class="text-primary-600 hover:text-primary-700 flex items-center">
                Next: Interactive Demo
                <i class="fas fa-arrow-right ml-2"></i>
              </a>
            </div>
          </section>
          
          <!-- Interactive Demo -->
          <section id="interactive-demo" class="mb-12 bg-white rounded-lg shadow-md p-8 scroll-mt-4">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Interactive Demo</h2>
            
            <p class="text-gray-700 mb-6">
              Try out different asynchronous operations and see how they work. This interactive demo will help you understand the concepts better.
            </p>
            
            <div class="interactive-demo">
              <div class="interactive-demo-header">
                <h3 class="font-semibold">Async Explorer</h3>
                <div class="flex space-x-2">
                  <button class="tab-button active" data-tab="promises-demo">Promises</button>
                  <button class="tab-button" data-tab="async-await-demo">Async/Await</button>
                  <button class="tab-button" data-tab="parallel-demo">Parallel Execution</button>
                </div>
              </div>
              
              <div class="interactive-demo-content">
                <div class="tab-content active" id="promises-demo">
                  <p class="text-gray-700 mb-4">
                    Working with promises to handle asynchronous operations.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating an API call with promises</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">id</span>, <span class="parameter">delay</span> <span class="operator">=</span> <span class="number">2000</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">id</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="parameter">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Invalid ID'</span>));
      }
    }, <span class="parameter">delay</span>);
  });
}

<span class="comment">// Using the promise</span>
<span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching data...'</span>);

<span class="function">fetchData</span>(<span class="number">1</span>)
  .<span class="function">then</span>(<span class="parameter">data</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Data received:'</span>, <span class="parameter">data</span>);
    <span class="keyword">return</span> <span class="function">fetchData</span>(<span class="parameter">data</span>.<span class="property">id</span> <span class="operator">+</span> <span class="number">1</span>, <span class="number">1000</span>);
  })
  .<span class="function">then</span>(<span class="parameter">data2</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Second data received:'</span>, <span class="parameter">data2</span>);
    <span class="keyword">return</span> <span class="string">'All done!'</span>;
  })
  .<span class="function">catch</span>(<span class="parameter">error</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
  })
  .<span class="function">finally</span>(() <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Promise chain completed'</span>);
  });</code></pre>
                  </div>
                  <button class="mt-4 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-md transition-colors" id="run-promises">
                    Run Example
                  </button>
                  <div class="interactive-demo-output" id="promises-output">
                    <p class="text-gray-500 italic">Output will appear here...</p>
                  </div>
                </div>
                
                <div class="tab-content" id="async-await-demo">
                  <p class="text-gray-700 mb-4">
                    Using async/await for cleaner asynchronous code.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating an API call</span>
<span class="keyword">function</span> <span class="function">fetchData</span>(<span class="parameter">id</span>, <span class="parameter">delay</span> <span class="operator">=</span> <span class="number">2000</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>((<span class="parameter">resolve</span>, <span class="parameter">reject</span>) <span class="operator">=></span> {
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="keyword">if</span> (<span class="parameter">id</span> <span class="operator">></span> <span class="number">0</span>) {
        <span class="function">resolve</span>({ <span class="property">id</span>: <span class="parameter">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span> });
      } <span class="keyword">else</span> {
        <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'Invalid ID'</span>));
      }
    }, <span class="parameter">delay</span>);
  });
}

<span class="comment">// Using async/await</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchMultipleData</span>() {
  <span class="keyword">try</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching first item...'</span>);
    <span class="keyword">const</span> <span class="variable">data1</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>(<span class="number">1</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'First data received:'</span>, <span class="variable">data1</span>);
    
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Fetching second item...'</span>);
    <span class="keyword">const</span> <span class="variable">data2</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchData</span>(<span class="variable">data1</span>.<span class="property">id</span> <span class="operator">+</span> <span class="number">1</span>, <span class="number">1000</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Second data received:'</span>, <span class="variable">data2</span>);
    
    <span class="keyword">return</span> <span class="string">'All done!'</span>;
  } <span class="keyword">catch</span> (<span class="parameter">error</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string">'Error:'</span>, <span class="parameter">error</span>.<span class="property">message</span>);
    <span class="keyword">throw</span> <span class="parameter">error</span>;
  } <span class="keyword">finally</span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Async function completed'</span>);
  }
}

<span class="comment">// Call the async function</span>
<span class="function">fetchMultipleData</span>()
  .<span class="function">then</span>(<span class="parameter">result</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">'Result:'</span>, <span class="parameter">result</span>);
  });</code></pre>
                  </div>
                  <button class="mt-4 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-md transition-colors" id="run-async-await">
                    Run Example
                  </button>
                  <div class="interactive-demo-output" id="async-await-output">
                    <p class="text-gray-500 italic">Output will appear here...</p>
                  </div>
                </div>
                
                <div class="tab-content" id="parallel-demo">
                  <p class="text-gray-700 mb-4">
                    Running operations in parallel vs. sequentially.
                  </p>
                  <div class="code-block">
                    <pre><code><span class="comment">// Simulating API calls</span>
<span class="keyword">function</span> <span class="function">fetchItem</span>(<span class="parameter">id</span>) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="function">Promise</span>(<span class="parameter">resolve</span> <span class="operator">=></span> {
    <span class="keyword">const</span> <span class="variable">delay</span> <span class="operator">=</span> <span class="variable">Math</span>.<span class="function">floor</span>(<span class="variable">Math</span>.<span class="function">random</span>() <span class="operator">*</span> <span class="number">2000</span>) <span class="operator">+</span> <span class="number">1000</span>;
    <span class="variable">setTimeout</span>(() <span class="operator">=></span> {
      <span class="function">resolve</span>({ <span class="property">id</span>, <span class="property">name</span>: <span class="string">`Item ${</span><span class="parameter">id</span><span class="string">}`</span>, <span class="property">delay</span> });
    }, <span class="variable">delay</span>);
  });
}

<span class="comment">// Sequential execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchSequentially</span>() {
  <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Sequential'</span>);
  
  <span class="keyword">const</span> <span class="variable">ids</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> [];
  
  <span class="keyword">for</span> (<span class="keyword">const</span> <span class="variable">id</span> <span class="keyword">of</span> <span class="variable">ids</span>) {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Fetching item ${</span><span class="variable">id</span><span class="string">}...`</span>);
    <span class="keyword">const</span> <span class="variable">item</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="function">fetchItem</span>(<span class="variable">id</span>);
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Received item ${</span><span class="variable">id</span><span class="string">} after ${</span><span class="variable">item</span>.<span class="property">delay</span><span class="string">}ms`</span>);
    <span class="variable">results</span>.<span class="function">push</span>(<span class="variable">item</span>);
  }
  
  <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Sequential'</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}

<span class="comment">// Parallel execution</span>
<span class="async-keyword">async</span> <span class="keyword">function</span> <span class="function">fetchInParallel</span>() {
  <span class="variable">console</span>.<span class="function">time</span>(<span class="string">'Parallel'</span>);
  
  <span class="keyword">const</span> <span class="variable">ids</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
  <span class="keyword">const</span> <span class="variable">promises</span> <span class="operator">=</span> <span class="variable">ids</span>.<span class="function">map</span>(<span class="parameter">id</span> <span class="operator">=></span> {
    <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Starting fetch for item ${</span><span class="parameter">id</span><span class="string">}...`</span>);
    <span class="keyword">return</span> <span class="function">fetchItem</span>(<span class="parameter">id</span>)
      .<span class="function">then</span>(<span class="parameter">item</span> <span class="operator">=></span> {
        <span class="variable">console</span>.<span class="function">log</span>(<span class="string">`Received item ${</span><span class="parameter">id</span><span class="string">} after ${</span><span class="parameter">item</span>.<span class="property">delay</span><span class="string">}ms`</span>);
        <span class="keyword">return</span> <span class="parameter">item</span>;
      });
  });
  
  <span class="keyword">const</span> <span class="variable">results</span> <span class="operator">=</span> <span class="await-keyword">await</span> <span class="variable">Promise</span>.<span class="function">all</span>(<span class="variable">promises</span>);
  
  <span class="variable">console</span>.<span class="function">timeEnd</span>(<span class="string">'Parallel'</span>);
  <span class="keyword">return</span> <span class="variable">results</span>;
}</code></pre>
                  </div>
                  